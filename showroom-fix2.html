<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KendaraanKu | Solusi Mobil Bekas Terpercaya</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700;900&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary-blue: #3b82f6;
        --primary-dark: #1e40af;
        --primary-light: #60a5fa;
        --accent-teal: #0d9488;
        --dark-bg: #0f172a;
        --card-bg: #1e293b;
        --light-text: #f8fafc;
        --muted-text: #94a3b8;
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: var(--dark-bg);
        color: var(--light-text);
      }

      .font-merriweather {
        font-family: "Merriweather", serif;
      }

      /* Smooth Scrolling */
      html {
        scroll-behavior: smooth;
      }

      /* Reveal on Scroll */
      .reveal {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.7s ease-out, transform 0.7s ease-out;
      }
      .reveal.active {
        opacity: 1;
        transform: translateY(0);
      }

      /* Card Styles */
      .car-card {
        background-color: var(--card-bg);
        transition: all 0.5s ease;
        border: 1px solid transparent;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      .car-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 25px rgba(0, 0, 0, 0.25);
        border-color: var(--primary-blue);
      }
      .car-card img {
        transition: transform 0.6s ease;
      }
      .car-card:hover img {
        transform: scale(1.08);
      }

      /* Button Styles */
      .btn-primary {
        background: linear-gradient(
          135deg,
          var(--primary-blue),
          var(--primary-dark)
        );
        color: var(--light-text);
        font-weight: 600;
        padding: 12px 24px;
        border-radius: 8px;
        transition: all 0.3s ease;
        display: inline-block;
        text-align: center;
        border: none;
        cursor: pointer;
      }
      .btn-primary:hover {
        background: linear-gradient(
          135deg,
          var(--primary-dark),
          var(--primary-blue)
        );
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
      }

      .btn-secondary {
        background-color: transparent;
        color: var(--primary-blue);
        border: 2px solid var(--primary-blue);
        font-weight: 600;
        padding: 10px 22px;
        border-radius: 8px;
        transition: all 0.3s ease;
        display: inline-block;
        text-align: center;
        cursor: pointer;
      }
      .btn-secondary:hover {
        background-color: var(--primary-blue);
        color: var(--light-text);
      }

      .btn-outline {
        background-color: transparent;
        color: var(--light-text);
        border: 1px solid #475569;
        font-weight: 500;
        padding: 10px 20px;
        border-radius: 8px;
        transition: all 0.3s ease;
        cursor: pointer;
      }
      .btn-outline:hover {
        border-color: var(--primary-blue);
        color: var(--primary-blue);
      }

      /* Navbar on scroll */
      .navbar-scrolled {
        background-color: rgba(15, 23, 42, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }

      /* Input & Select */
      .form-input {
        background-color: var(--card-bg);
        border: 1px solid #475569;
        color: var(--light-text);
        transition: border-color 0.3s ease;
        border-radius: 8px;
      }
      .form-input:focus {
        outline: none;
        border-color: var(--primary-blue);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }

      /* Promo Banner */
      .promo-banner {
        background: linear-gradient(
          90deg,
          var(--primary-dark),
          var(--accent-teal)
        );
      }

      /* Custom Checkbox for Compare */
      .compare-checkbox {
        appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid #64748b;
        border-radius: 4px;
        transition: all 0.2s ease;
        cursor: pointer;
      }
      .compare-checkbox:checked {
        background-color: var(--primary-blue);
        border-color: var(--primary-blue);
      }
      .compare-checkbox:checked::after {
        content: "âœ”";
        display: block;
        text-align: center;
        color: var(--light-text);
        font-size: 14px;
        line-height: 16px;
      }

      /* Loading Spinner */
      .spinner {
        border: 4px solid rgba(255, 255, 255, 0.1);
        width: 36px;
        height: 36px;
        border-radius: 50%;
        border-left-color: var(--primary-blue);
        animation: spin 1s ease infinite;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: var(--dark-bg);
      }
      ::-webkit-scrollbar-thumb {
        background: var(--primary-blue);
        border-radius: 4px;
      }

      /* Detail Page Specific Styles */
      .thumbnail {
        transition: all 0.3s ease;
        border: 2px solid transparent;
        cursor: pointer;
        border-radius: 8px;
      }
      .thumbnail:hover,
      .thumbnail.active {
        border-color: var(--primary-blue);
      }

      .tab-nav {
        border-bottom: 2px solid #475569;
      }
      .tab-nav button {
        transition: all 0.3s ease;
        position: relative;
      }
      .tab-nav button.active::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 100%;
        height: 2px;
        background-color: var(--primary-blue);
      }

      .spec-table tr {
        border-bottom: 1px solid #475569;
      }
      .spec-table tr:last-child {
        border-bottom: none;
      }

      /* FITUR BARU: Wishlist & Trade-in Styles */
      .wishlist-btn .fa-heart.active {
        color: #ef4444; /* Red-500 */
      }

      .form-step {
        display: none;
      }
      .form-step.active {
        display: block;
        animation: fadeIn 0.5s ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .trade-in-result {
        background: linear-gradient(135deg, #1e293b, #334155);
        border: 1px solid #475569;
        border-radius: 12px;
      }

      /* Toast Notification */
      .toast {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 12px 20px;
        border-radius: 8px;
        color: white;
        z-index: 1000;
        transform: translateX(150%);
        transition: transform 0.3s ease-in-out;
        max-width: 300px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
      .toast.show {
        transform: translateX(0);
      }
      .toast.success {
        background-color: #10b981;
      }
      .toast.error {
        background-color: #ef4444;
      }
      .toast.info {
        background-color: var(--primary-blue);
      }

      /* Booking Modal */
      .booking-modal {
        max-width: 500px;
        width: 90%;
      }

      /* Review Stars */
      .review-stars {
        color: #fbbf24;
      }

      /* Comparison Table */
      .comparison-table {
        width: 100%;
        border-collapse: collapse;
      }
      .comparison-table th,
      .comparison-table td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #475569;
      }
      .comparison-table th {
        background-color: var(--card-bg);
        font-weight: 600;
      }
      .comparison-table tr:hover {
        background-color: rgba(59, 130, 246, 0.05);
      }

      /* Language Toggle */
      .lang-toggle {
        background: transparent;
        border: 1px solid #475569;
        color: var(--light-text);
        padding: 6px 12px;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .lang-toggle:hover {
        border-color: var(--primary-blue);
        background-color: rgba(59, 130, 246, 0.1);
      }

      /* Mobile Menu */
      .mobile-menu {
        position: fixed;
        top: 0;
        right: -100%;
        width: 80%;
        height: 100vh;
        background-color: var(--dark-bg);
        z-index: 40;
        transition: right 0.3s ease;
        padding: 80px 20px 20px;
        overflow-y: auto;
      }
      .mobile-menu.open {
        right: 0;
      }
      .mobile-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 30;
        display: none;
      }
      .mobile-overlay.active {
        display: block;
      }

      /* Modern Section Backgrounds */
      .section-bg {
        background: linear-gradient(135deg, var(--dark-bg) 0%, #1e293b 100%);
      }

      /* Modern Gradient Text */
      .gradient-text {
        background: linear-gradient(
          135deg,
          var(--primary-blue),
          var(--accent-teal)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      /* Modern Card with Glass Effect */
      .glass-card {
        background: rgba(30, 41, 59, 0.7);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
      }
    </style>
  </head>
  <body class="bg-slate-900 text-slate-100">
    <!-- Header & Navigation -->
    <header
      id="navbar"
      class="fixed w-full top-0 z-50 transition-all duration-500"
    >
      <nav
        class="container mx-auto px-8 py-5 flex justify-between items-center"
      >
        <a
          href="#"
          id="nav-logo"
          class="text-3xl font-merriweather font-bold tracking-tight"
        >
          Kendaraan<span class="gradient-text">Ku</span>
        </a>
        <div class="hidden md:flex space-x-8 items-center">
          <a
            href="#inventory"
            id="nav-inventory"
            class="nav-link text-slate-300 hover:text-white transition-colors duration-300"
            data-en="Inventory"
            >Stok Mobil</a
          >
          <!-- FITUR BARU: Link ke halaman Jual Mobil -->
          <a
            href="#"
            id="nav-trade-in"
            class="nav-link text-slate-300 hover:text-white transition-colors duration-300"
            data-en="Sell Your Car"
            >Jual Mobil</a
          >
          <a
            href="#promo"
            class="nav-link text-slate-300 hover:text-white transition-colors duration-300"
            data-en="Promo"
            >Promo</a
          >
          <a
            href="#credit"
            class="nav-link text-slate-300 hover:text-white transition-colors duration-300"
            data-en="Credit Simulation"
            >Simulasi Kredit</a
          >
          <a
            href="#contact"
            class="nav-link text-slate-300 hover:text-white transition-colors duration-300"
            data-en="Contact"
            >Kontak</a
          >
          <!-- FITUR BARU: Link ke halaman Wishlist -->
          <a
            href="#"
            id="nav-wishlist"
            class="nav-link text-slate-300 hover:text-white transition-colors duration-300 relative"
            data-en="Wishlist"
          >
            <i class="fas fa-heart"></i> Wishlist
            <span
              id="wishlist-count"
              class="absolute -top-2 -right-3 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"
              >0</span
            >
          </a>
          <!-- FITUR BARU: Language Toggle -->
          <button id="lang-toggle" class="lang-toggle">
            <span class="lang-text" data-en="ID">EN</span>
          </button>
          <a
            href="https://wa.me/628123456789?text=Halo%20KendaraanKu,%20saya%20mau%20tanya%20mobil"
            target="_blank"
            class="btn-primary"
            data-en="Contact Us"
          >
            <i class="fab fa-whatsapp mr-2"></i>Hubungi Kami
          </a>
        </div>
        <button id="mobile-menu-btn" class="md:hidden text-white">
          <i class="fas fa-bars text-2xl"></i>
        </button>
      </nav>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-overlay" class="mobile-overlay"></div>
    <div id="mobile-menu" class="mobile-menu">
      <div class="flex flex-col space-y-6">
        <a
          href="#inventory"
          id="mobile-nav-inventory"
          class="text-xl py-2 border-b border-slate-700"
          data-en="Inventory"
          >Stok Mobil</a
        >
        <a
          href="#"
          id="mobile-nav-trade-in"
          class="text-xl py-2 border-b border-slate-700"
          data-en="Sell Your Car"
          >Jual Mobil</a
        >
        <a
          href="#promo"
          class="text-xl py-2 border-b border-slate-700"
          data-en="Promo"
          >Promo</a
        >
        <a
          href="#credit"
          class="text-xl py-2 border-b border-slate-700"
          data-en="Credit Simulation"
          >Simulasi Kredit</a
        >
        <a
          href="#contact"
          class="text-xl py-2 border-b border-slate-700"
          data-en="Contact"
          >Kontak</a
        >
        <a
          href="#"
          id="mobile-nav-wishlist"
          class="text-xl py-2 border-b border-slate-700 flex items-center"
          data-en="Wishlist"
        >
          <i class="fas fa-heart mr-2"></i> Wishlist
          <span
            id="mobile-wishlist-count"
            class="ml-2 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"
            >0</span
          >
        </a>
        <button
          id="mobile-lang-toggle"
          class="lang-toggle text-left w-auto inline-block"
        >
          <span class="lang-text" data-en="ID">EN</span>
        </button>
        <a
          href="https://wa.me/628123456789?text=Halo%20KendaraanKu,%20saya%20mau%20tanya%20mobil"
          target="_blank"
          class="btn-primary text-center"
          data-en="Contact Us"
        >
          <i class="fab fa-whatsapp mr-2"></i>Hubungi Kami
        </a>
      </div>
    </div>

    <main>
      <!-- HOME VIEW -->
      <div id="home-view">
        <!-- Hero Section -->
        <section
          class="relative min-h-screen flex items-center justify-center section-bg"
        >
          <img
            src="https://asset-3.tstatic.net/jualbeli/img/njajal/2025/1/4-Mobil-Toyota-Rush-Keluaran-Terbaru--Cek-Harganya-per-Januari-2025-master-254871106.jpg"
            alt="Hero Car"
            class="absolute inset-0 w-full h-full object-cover"
          />
          <div
            class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/70 to-transparent"
          ></div>
          <div class="relative container mx-auto px-8 text-center z-10">
            <h1
              class="text-5xl md:text-7xl font-merriweather font-bold leading-tight mb-6 reveal"
              data-en="Quality and <span class='text-blue-600'>Trust</span> in Every Vehicle"
            >
              Kualitas
              <span class="gradient-text"> dalam Setiap</span>
              Kendaraan
            </h1>
            <p
              class="text-lg md:text-xl text-slate-300 mb-10 max-w-2xl mx-auto reveal"
              data-en="Find your dream car at the best price. Passed strict inspection and guaranteed complete documents."
            >
              Temukan mobil idaman Anda dengan harga terbaik. Lulus inspeksi
              ketat dan dokumen dijamin lengkap.
            </p>
            <div class="flex flex-col sm:flex-row gap-6 justify-center reveal">
              <a
                href="#inventory"
                class="btn-primary text-lg"
                data-en="View Car Stock"
              >
                <i class="fas fa-search mr-2"></i>Lihat Stok Mobil
              </a>
              <!-- FITUR BARU: Tombol CTA ke halaman Jual Mobil -->
              <button
                id="hero-trade-in-btn"
                class="btn-secondary text-lg"
                data-en="Sell Your Car Now"
              >
                <i class="fas fa-car-side mr-2"></i>Jual Mobil Sekarang
              </button>
              <!-- FITUR BARU: Tombol Booking -->
              <button
                id="hero-booking-btn"
                class="btn-outline text-lg"
                data-en="Book Appointment"
              >
                <i class="fas fa-calendar-check mr-2"></i>Booking Konsultasi
              </button>
            </div>
          </div>
        </section>

        <!-- Promo Section -->
        <section id="promo" class="promo-banner py-6 text-center">
          <div class="container mx-auto px-8">
            <p
              class="text-white font-semibold text-lg reveal"
              data-en="MONTHLY PROMO: Free Administration Fee & Insurance for all credit purchases!"
            >
              <i class="fas fa-tag mr-2"></i>PROMO BULAN INI: Gratis Biaya
              Administrasi & Asuransi untuk semua pembelian kredit!
            </p>
          </div>
        </section>

        <!-- Inventory Section -->
        <section id="inventory" class="py-20 section-bg">
          <div class="container mx-auto px-8">
            <div
              class="flex flex-col md:flex-row justify-between items-center mb-12"
            >
              <div class="mb-4 md:mb-0 reveal">
                <h2
                  class="text-4xl font-merriweather font-bold mb-2"
                  data-en="Our Car Stock"
                >
                  Stok Mobil Kami
                </h2>
                <p
                  class="text-slate-400"
                  data-en="Best selection with competitive prices."
                >
                  Pilihan terbaik dengan harga yang kompetitif.
                </p>
              </div>
              <div class="flex items-center gap-4 reveal">
                <span class="text-sm text-slate-400" data-en="Compare:"
                  >Bandingkan:</span
                >
                <button
                  id="compare-btn"
                  class="btn-secondary disabled:opacity-50 disabled:cursor-not-allowed"
                  disabled
                  data-en="Compare"
                >
                  <i class="fas fa-balance-scale mr-2"></i>Bandingkan (<span
                    id="compare-count"
                    >0</span
                  >)
                </button>
              </div>
            </div>

            <!-- Search & Filter Section -->
            <div class="glass-card p-6 rounded-xl mb-8 reveal">
              <div class="mb-4">
                <label
                  for="search-input"
                  class="block text-sm font-medium text-slate-400 mb-2"
                  data-en="Search Cars"
                  >Cari Mobil</label
                >
                <input
                  type="text"
                  id="search-input"
                  class="form-input w-full px-4 py-3 rounded-lg"
                  placeholder="Ketik merek atau model mobil..."
                  data-en-placeholder="Type brand or model..."
                />
              </div>
              <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <select
                  id="filter-brand"
                  class="filter-select form-input px-4 py-3 rounded-lg"
                >
                  <option value="all" data-en="All Brands">Semua Merek</option>
                  <option value="toyota">Toyota</option>
                  <option value="honda">Honda</option>
                  <option value="suzuki">Suzuki</option>
                  <option value="daihatsu">Daihatsu</option>
                  <option value="mitsubishi">Mitsubishi</option>
                </select>
                <select
                  id="filter-price"
                  class="filter-select form-input px-4 py-3 rounded-lg"
                >
                  <option value="all" data-en="All Prices">Semua Harga</option>
                  <option value="0-200" data-en="< 200 Million">
                    &lt; 200 Juta
                  </option>
                  <option value="200-350" data-en="200 - 350 Million">
                    200 - 350 Juta
                  </option>
                  <option value="350+" data-en="> 350 Million">
                    &gt; 350 Juta
                  </option>
                </select>
                <select
                  id="filter-type"
                  class="filter-select form-input px-4 py-3 rounded-lg"
                >
                  <option value="all" data-en="All Types">Semua Tipe</option>
                  <option value="mpv">MPV</option>
                  <option value="hatchback">Hatchback</option>
                  <option value="suv">SUV</option>
                  <option value="sedan">Sedan</option>
                </select>
                <button
                  id="filter-btn"
                  class="btn-primary rounded-lg text-lg font-bold"
                  data-en="Search Cars"
                >
                  Cari Mobil
                </button>
              </div>
            </div>

            <!-- Car Grid -->
            <div
              id="car-grid"
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
            >
              <!-- Cars will be dynamically inserted here -->
            </div>
            <div id="no-results" class="hidden text-center py-10 reveal">
              <p
                class="text-xl text-slate-500"
                data-en="Sorry, no cars match your criteria."
              >
                Maaf, tidak ada mobil yang sesuai dengan kriteria Anda.
              </p>
            </div>

            <!-- Load More Button -->
            <div class="text-center mt-12">
              <button
                id="load-more-btn"
                class="btn-secondary text-lg"
                data-en="Load More"
              >
                <i class="fas fa-plus-circle mr-2"></i>Lihat Lainnya
              </button>
              <div
                id="loading-spinner"
                class="spinner mx-auto mt-4 hidden"
              ></div>
            </div>
          </div>
        </section>

        <!-- Credit Simulation Section -->
        <section id="credit" class="py-20 section-bg">
          <div class="container mx-auto px-8">
            <div class="text-center mb-16 reveal">
              <h2
                class="text-4xl font-merriweather font-bold mb-4"
                data-en="Credit Simulation"
              >
                Simulasi Kredit
              </h2>
              <p
                class="text-slate-400"
                data-en="Plan your installments easily and transparently."
              >
                Rencanakan cicilan dengan mudah dan transparan.
              </p>
            </div>
            <div class="max-w-2xl mx-auto glass-card p-10 rounded-2xl reveal">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div>
                  <label
                    for="car-price"
                    class="block text-sm font-medium text-slate-400 mb-2"
                    data-en="Car Price (Rp)"
                    >Harga Mobil (Rp)</label
                  >
                  <input
                    type="number"
                    id="car-price"
                    class="form-input w-full px-4 py-3 rounded-lg"
                    placeholder="Contoh: 250000000"
                    data-en-placeholder="Example: 250000000"
                  />
                </div>
                <div>
                  <label
                    for="dp"
                    class="block text-sm font-medium text-slate-400 mb-2"
                    data-en="Down Payment"
                    >Uang Muka (DP)</label
                  >
                  <input
                    type="number"
                    id="dp"
                    class="form-input w-full px-4 py-3 rounded-lg"
                    placeholder="Contoh: 50000000"
                    data-en-placeholder="Example: 50000000"
                  />
                </div>
              </div>
              <div class="mb-8">
                <label
                  for="tenor"
                  class="block text-sm font-medium text-slate-400 mb-2"
                  data-en="Tenure (Years)"
                  >Tenor (Tahun)</label
                >
                <select
                  id="tenor"
                  class="form-input w-full px-4 py-3 rounded-lg"
                >
                  <option value="1" data-en="1 Year">1 Tahun</option>
                  <option value="2" data-en="2 Years">2 Tahun</option>
                  <option value="3" data-en="3 Years">3 Tahun</option>
                  <option value="4" selected data-en="4 Years">4 Tahun</option>
                  <option value="5" data-en="5 Years">5 Tahun</option>
                </select>
              </div>
              <button
                id="calculate-btn"
                class="btn-primary w-full py-4 rounded-lg text-lg font-bold"
                data-en="Calculate Installment"
              >
                <i class="fas fa-calculator mr-2"></i>Hitung Cicilan
              </button>
              <div
                id="credit-result"
                class="mt-10 p-6 glass-card rounded-xl hidden"
              >
                <p
                  class="text-sm text-slate-400"
                  data-en="Estimated Monthly Installment:"
                >
                  Estimasi Cicilan Bulanan:
                </p>
                <p
                  id="monthly-installment"
                  class="text-4xl font-bold gradient-text mt-2"
                ></p>
                <p
                  class="text-xs text-slate-500 mt-4"
                  data-en="*This simulation result may vary depending on the leasing company."
                >
                  *Hasil simulasi ini bisa berbeda tergantung perusahaan
                  leasing.
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-20 section-bg">
          <div class="container mx-auto px-8">
            <div class="text-center mb-16 reveal">
              <h2
                class="text-4xl font-merriweather font-bold mb-4"
                data-en="Contact Us"
              >
                Hubungi Kami
              </h2>
              <p
                class="text-slate-400"
                data-en="We are ready to help you find your dream car."
              >
                Kami siap membantu Anda menemukan mobil impian.
              </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
              <div class="reveal">
                <div class="p-8 glass-card rounded-2xl">
                  <i
                    class="fas fa-map-marker-alt text-4xl gradient-text mb-4"
                  ></i>
                  <h3 class="text-xl font-semibold mb-2" data-en="Address">
                    Alamat
                  </h3>
                  <p class="text-slate-400">
                    Jl. Sultan Agung No. 123, Jakarta
                  </p>
                </div>
              </div>
              <div class="reveal">
                <div class="p-8 glass-card rounded-2xl">
                  <i class="fas fa-phone-alt text-4xl gradient-text mb-4"></i>
                  <h3 class="text-xl font-semibold mb-2" data-en="Phone">
                    Telepon
                  </h3>
                  <a
                    href="tel:02112345678"
                    class="text-slate-400 hover:text-white transition-colors"
                    >021-1234-5678</a
                  >
                </div>
              </div>
              <div class="reveal">
                <div class="p-8 glass-card rounded-2xl">
                  <i class="fab fa-whatsapp text-4xl gradient-text mb-4"></i>
                  <h3 class="text-xl font-semibold mb-2" data-en="WhatsApp">
                    WhatsApp
                  </h3>
                  <a
                    href="https://wa.me/628123456789"
                    target="_blank"
                    class="text-slate-400 hover:text-white transition-colors"
                    >0812-3456-789</a
                  >
                </div>
              </div>
            </div>
            <!-- FITUR BARU: Google Maps Embed -->
            <div class="mt-12 reveal">
              <div class="glass-card p-6 rounded-2xl">
                <h3
                  class="text-xl font-semibold mb-4 text-center"
                  data-en="Our Location"
                >
                  Lokasi Kami
                </h3>
                <div class="rounded-xl overflow-hidden h-64 md:h-96">
                  <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.521260322283!2d106.81956135063986!3d-6.194741395493371!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69f5390917b759%3A0x6b45e67356080477!2sJl.%20Sultan%20Agung%20No.123%2C%20RT.12%2FRW.2%2C%20Kuningan%2C%20Kecamatan%20Setiabudi%2C%20Kota%20Jakarta%20Selatan%2C%20Daerah%20Khusus%20Ibukota%20Jakarta%2012920!5e0!3m2!1sen!2sid!4v1648792911803!5m2!1sen!2sid"
                    width="100%"
                    height="100%"
                    style="border: 0"
                    allowfullscreen=""
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"
                  >
                  </iframe>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- FITUR BARU: TRADE-IN VIEW -->
      <div id="trade-in-view" class="hidden pt-24 pb-12 section-bg">
        <div class="container mx-auto px-8 max-w-4xl">
          <div class="text-center mb-12">
            <h1
              class="text-4xl md:text-5xl font-merriweather font-bold mb-4"
              data-en="Sell Your Car Easily"
            >
              Jual Mobil Anda dengan Mudah
            </h1>
            <p
              class="text-lg text-slate-400"
              data-en="Get the best offer for your car. Fast, transparent, and secure process."
            >
              Dapatkan penawaran terbaik untuk mobil Anda. Proses cepat,
              transparan, dan aman.
            </p>
          </div>

          <div class="glass-card rounded-2xl p-8 md:p-12">
            <form id="trade-in-form">
              <!-- Step 1: Data Kendaraan -->
              <div class="form-step active" id="step-1">
                <h2
                  class="text-2xl font-semibold mb-6"
                  data-en="Step 1: Your Vehicle Data"
                >
                  Langkah 1: Data Kendaraan Anda
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Car Brand"
                      >Merek Mobil</label
                    >
                    <select
                      id="trade-brand"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      required
                    >
                      <option value="" data-en="Select Brand">
                        Pilih Merek
                      </option>
                      <option value="toyota">Toyota</option>
                      <option value="honda">Honda</option>
                      <option value="suzuki">Suzuki</option>
                      <option value="daihatsu">Daihatsu</option>
                      <option value="mitsubishi">Mitsubishi</option>
                      <option value="lainnya" data-en="Other">Lainnya</option>
                    </select>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Model / Type"
                      >Tipe / Model</label
                    >
                    <input
                      type="text"
                      id="trade-model"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      placeholder="Contoh: Avanza Veloz"
                      data-en-placeholder="Example: Avanza Veloz"
                      required
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Year"
                      >Tahun</label
                    >
                    <input
                      type="number"
                      id="trade-year"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      placeholder="Contoh: 2019"
                      data-en-placeholder="Example: 2019"
                      min="1990"
                      max="2024"
                      required
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Transmission"
                      >Transmisi</label
                    >
                    <select
                      id="trade-transmission"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      required
                    >
                      <option value="" data-en="Select Transmission">
                        Pilih Transmisi
                      </option>
                      <option value="Manual">Manual</option>
                      <option value="Automatic">Automatic</option>
                    </select>
                  </div>
                </div>
                <div class="mt-8 text-right">
                  <button
                    type="button"
                    class="btn-next btn-primary"
                    data-en="Continue"
                  >
                    Lanjutkan <i class="fas fa-arrow-right ml-2"></i>
                  </button>
                </div>
              </div>

              <!-- Step 2: Kondisi & Kilometer -->
              <div class="form-step" id="step-2">
                <h2
                  class="text-2xl font-semibold mb-6"
                  data-en="Step 2: Condition & Mileage"
                >
                  Langkah 2: Kondisi & Kilometer
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Kilometer (KM)"
                      >Kilometer (KM)</label
                    >
                    <input
                      type="number"
                      id="trade-mileage"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      placeholder="Contoh: 75000"
                      data-en-placeholder="Example: 75000"
                      required
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Color"
                      >Warna</label
                    >
                    <input
                      type="text"
                      id="trade-color"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      placeholder="Contoh: Putih"
                      data-en-placeholder="Example: White"
                      required
                    />
                  </div>
                  <div class="md:col-span-2">
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Engine Condition"
                      >Kondisi Mesin</label
                    >
                    <select
                      id="trade-engine-condition"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      required
                    >
                      <option value="" data-en="Select Condition">
                        Pilih Kondisi
                      </option>
                      <option
                        value="Sangat Baik"
                        data-en="Very Good (No issues)"
                      >
                        Sangat Baik (Tidak ada masalah)
                      </option>
                      <option
                        value="Baik"
                        data-en="Good (Minor sounds, not disturbing)"
                      >
                        Baik (Ada sedikit suara, tapi tidak mengganggu)
                      </option>
                      <option
                        value="Cukup"
                        data-en="Fair (Needs minor repairs)"
                      >
                        Cukup (Perlu sedikit perbaikan)
                      </option>
                      <option
                        value="Buruk"
                        data-en="Poor (Needs major repairs)"
                      >
                        Buruk (Perlu perbaikan besar)
                      </option>
                    </select>
                  </div>
                  <div class="md:col-span-2">
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Body & Paint Condition"
                      >Kondisi Body & Cat</label
                    >
                    <select
                      id="trade-body-condition"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      required
                    >
                      <option value="" data-en="Select Condition">
                        Pilih Kondisi
                      </option>
                      <option
                        value="Mulus Original"
                        data-en="Flawless Original (No scratches or dents)"
                      >
                        Mulus Original (Tidak ada baret atau penyok)
                      </option>
                      <option value="Baik" data-en="Good (Minor scratches)">
                        Baik (Ada baret ringan)
                      </option>
                      <option
                        value="Cukup"
                        data-en="Fair (Some scratches or small dents)"
                      >
                        Cukup (Ada beberapa baret atau penyok kecil)
                      </option>
                      <option
                        value="Pernah Disepuh"
                        data-en="Has Been Repainted"
                      >
                        Pernah Disepuh / Cat Ulang
                      </option>
                    </select>
                  </div>
                </div>
                <div class="mt-8 flex justify-between">
                  <button
                    type="button"
                    class="btn-prev btn-outline"
                    data-en="Back"
                  >
                    <i class="fas fa-arrow-left mr-2"></i> Kembali
                  </button>
                  <button
                    type="button"
                    class="btn-next btn-primary"
                    data-en="Continue"
                  >
                    Lanjutkan <i class="fas fa-arrow-right ml-2"></i>
                  </button>
                </div>
              </div>

              <!-- Step 3: Data Penjual -->
              <div class="form-step" id="step-3">
                <h2
                  class="text-2xl font-semibold mb-6"
                  data-en="Step 3: Your Data"
                >
                  Langkah 3: Data Anda
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Full Name"
                      >Nama Lengkap</label
                    >
                    <input
                      type="text"
                      id="trade-name"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      required
                    />
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Phone / WhatsApp Number"
                      >Nomor Telepon / WhatsApp</label
                    >
                    <input
                      type="tel"
                      id="trade-phone"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      required
                    />
                  </div>
                  <div class="md:col-span-2">
                    <label
                      class="block text-sm font-medium text-slate-400 mb-2"
                      data-en="Additional Notes (Optional)"
                      >Lengkapilah jika ada</label
                    >
                    <textarea
                      id="trade-notes"
                      class="form-input w-full px-4 py-3 rounded-lg"
                      rows="4"
                      placeholder="Contoh: Mobil pernah mengalami banjir kecil, atau ada aksesoris tambahan."
                      data-en-placeholder="Example: Car has experienced minor flooding, or has additional accessories."
                    ></textarea>
                  </div>
                </div>
                <div class="mt-8 flex justify-between">
                  <button
                    type="button"
                    class="btn-prev btn-outline"
                    data-en="Back"
                  >
                    <i class="fas fa-arrow-left mr-2"></i> Kembali
                  </button>
                  <button
                    type="submit"
                    class="btn-primary"
                    data-en="Get Estimation"
                  >
                    Dapatkan Estimasi <i class="fas fa-calculator ml-2"></i>
                  </button>
                </div>
              </div>

              <!-- Result Step -->
              <div class="form-step" id="step-result">
                <h2
                  class="text-2xl font-semibold mb-6 text-center"
                  data-en="Thank You!"
                >
                  Terima Kasih!
                </h2>
                <div class="trade-in-result p-8 rounded-xl text-center">
                  <i
                    class="fas fa-check-circle text-6xl text-green-500 mb-4"
                  ></i>
                  <p
                    class="text-lg mb-4"
                    data-en="Based on the data you provided, the estimated price of your car is:"
                  >
                    Berdasarkan data yang Anda berikan, estimasi harga mobil
                    Anda adalah:
                  </p>
                  <p
                    id="trade-estimation"
                    class="text-4xl font-bold gradient-text mb-6"
                  >
                    Rp XXX.000.000
                  </p>
                  <p
                    class="text-slate-400 mb-6"
                    data-en="Our team will contact you within 24 hours for confirmation and final offer."
                  >
                    Tim kami akan segera menghubungi Anda dalam 1x24 jam untuk
                    konfirmasi dan penawaran final.
                  </p>
                  <a
                    id="trade-whatsapp-link"
                    href="#"
                    target="_blank"
                    class="btn-primary"
                    data-en="Contact Us via WhatsApp"
                  >
                    <i class="fab fa-whatsapp mr-2"></i>Hubungi Kami via
                    WhatsApp
                  </a>
                </div>
                <div class="mt-8 text-center">
                  <button
                    type="button"
                    class="btn-reset btn-secondary"
                    data-en="Create New Offer"
                  >
                    Buat Penawaran Baru
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- FITUR BARU: WISHLIST VIEW -->
      <div id="wishlist-view" class="hidden pt-24 pb-12 section-bg">
        <div class="container mx-auto px-8">
          <div class="text-center mb-12">
            <h1
              class="text-4xl md:text-5xl font-merriweather font-bold mb-4"
              data-en="Your Car Wishlist"
            >
              Wishlist Mobil Anda
            </h1>
            <p
              class="text-lg text-slate-400"
              data-en="Save cars you like for later viewing."
            >
              Simpan mobil yang Anda suka untuk dilihat nanti.
            </p>
          </div>

          <div
            id="wishlist-grid"
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"
          >
            <!-- Wishlist items will be dynamically inserted here -->
          </div>

          <div id="wishlist-empty" class="hidden text-center py-20">
            <i class="fas fa-heart text-6xl text-slate-600 mb-4"></i>
            <h3
              class="text-2xl font-semibold mb-2"
              data-en="Your Wishlist is Empty"
            >
              Wishlist Anda Kosong
            </h3>
            <p
              class="text-slate-400 mb-6"
              data-en="Start adding cars you're interested in by clicking the heart icon."
            >
              Mulai tambahkan mobil yang Anda minati dengan mengeklik ikon hati.
            </p>
            <a
              href="#"
              id="back-to-inventory"
              class="btn-primary"
              data-en="View Car Stock"
            >
              <i class="fas fa-search mr-2"></i>Lihat Stok Mobil
            </a>
          </div>
        </div>
      </div>

      <!-- FITUR BARU: COMPARISON VIEW -->
      <div id="comparison-view" class="hidden pt-24 pb-12 section-bg">
        <div class="container mx-auto px-8">
          <div class="text-center mb-12">
            <h1
              class="text-4xl md:text-5xl font-merriweather font-bold mb-4"
              data-en="Car Comparison"
            >
              Perbandingan Mobil
            </h1>
            <p
              class="text-lg text-slate-400"
              data-en="Compare specifications of your selected cars."
            >
              Bandingkan spesifikasi mobil pilihan Anda.
            </p>
          </div>

          <div id="comparison-container" class="glass-card rounded-xl p-6">
            <!-- Comparison table will be inserted here -->
          </div>

          <div id="comparison-empty" class="text-center py-20">
            <i class="fas fa-balance-scale text-6xl text-slate-600 mb-4"></i>
            <h3
              class="text-2xl font-semibold mb-2"
              data-en="No Cars to Compare"
            >
              Belum ada mobil untuk dibandingkan
            </h3>
            <p
              class="text-slate-400 mb-6"
              data-en="Select at least 2 cars to compare."
            >
              Pilih minimal 2 mobil untuk membandingkan.
            </p>
            <a
              href="#"
              id="back-to-inventory-from-comparison"
              class="btn-primary"
              data-en="View Car Stock"
            >
              <i class="fas fa-search mr-2"></i>Lihat Stok Mobil
            </a>
          </div>
        </div>
      </div>

      <!-- DETAIL VIEW -->
      <div id="detail-view" class="hidden pt-24 pb-12 section-bg">
        <div class="container mx-auto px-8">
          <!-- Breadcrumb -->
          <div class="mb-6 text-sm text-slate-400">
            <a
              href="#"
              id="breadcrumb-home"
              class="hover:text-white"
              data-en="Home"
              >Beranda</a
            >
            /
            <a
              href="#inventory"
              id="breadcrumb-inventory"
              class="hover:text-white"
              data-en="Car Stock"
              >Stok Mobil</a
            >
            /
            <span id="car-name-breadcrumb" class="text-white"
              >Detail Mobil</span
            >
          </div>

          <!-- Car Detail Section -->
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12">
            <!-- Image Gallery -->
            <div class="space-y-4">
              <div class="relative overflow-hidden rounded-xl">
                <img
                  id="main-image"
                  src=""
                  alt="Mobil"
                  class="w-full h-96 object-cover"
                />
                <button
                  id="detail-wishlist-btn"
                  class="absolute top-4 right-4 bg-slate-900/80 p-3 rounded-full text-xl hover:text-red-500 transition-colors"
                >
                  <i class="far fa-heart"></i>
                </button>
              </div>
              <div id="thumbnail-container" class="grid grid-cols-4 gap-2">
                <!-- Thumbnails will be dynamically inserted here -->
              </div>
            </div>

            <!-- Car Information -->
            <div>
              <h1
                id="car-title"
                class="text-4xl font-merriweather font-bold mb-4"
              ></h1>
              <div class="flex items-center gap-4 mb-6">
                <span
                  id="car-year"
                  class="bg-slate-800 px-3 py-1 rounded-full text-sm"
                ></span>
                <span
                  id="car-transmission"
                  class="bg-slate-800 px-3 py-1 rounded-full text-sm"
                ></span>
                <span
                  id="car-mileage"
                  class="bg-slate-800 px-3 py-1 rounded-full text-sm"
                ></span>
              </div>
              <div
                class="text-3xl font-bold gradient-text mb-6"
                id="car-price"
              ></div>

              <div class="mb-8">
                <h3 class="text-xl font-semibold mb-4" data-en="Description">
                  Deskripsi
                </h3>
                <p id="car-description" class="text-slate-400"></p>
              </div>

              <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="glass-card p-4 rounded-lg">
                  <i class="fas fa-car gradient-text mb-2"></i>
                  <p class="text-sm text-slate-400" data-en="Car Type">
                    Tipe Mobil
                  </p>
                  <p id="car-type" class="font-semibold"></p>
                </div>
                <div class="glass-card p-4 rounded-lg">
                  <i class="fas fa-gas-pump gradient-text mb-2"></i>
                  <p class="text-sm text-slate-400" data-en="Fuel Type">
                    Bahan Bakar
                  </p>
                  <p id="car-fuel" class="font-semibold"></p>
                </div>
                <div class="glass-card p-4 rounded-lg">
                  <i class="fas fa-users gradient-text mb-2"></i>
                  <p class="text-sm text-slate-400" data-en="Capacity">
                    Kapasitas
                  </p>
                  <p id="car-seats" class="font-semibold"></p>
                </div>
                <div class="glass-card p-4 rounded-lg">
                  <i class="fas fa-cogs gradient-text mb-2"></i>
                  <p class="text-sm text-slate-400" data-en="Color">Warna</p>
                  <p id="car-color" class="font-semibold"></p>
                </div>
              </div>

              <div class="flex flex-col sm:flex-row gap-4">
                <a
                  href="https://wa.me/628123456789?text=Halo%20KendaraanKu,%20saya%20tertarik%20dengan%20mobil%20ini"
                  target="_blank"
                  class="btn-primary text-center"
                  data-en="Ask Price"
                >
                  <i class="fab fa-whatsapp mr-2"></i>Tanya Harga
                </a>
                <button
                  id="test-drive-btn"
                  class="btn-secondary text-center"
                  data-en="Schedule Test Drive"
                >
                  <i class="fas fa-calendar-check mr-2"></i>Jadwalkan Test Drive
                </button>
                <!-- FITUR BARU: Tombol Booking di Detail -->
                <button
                  id="detail-booking-btn"
                  class="btn-outline text-center"
                  data-en="Book This Car"
                >
                  <i class="fas fa-calendar-plus mr-2"></i>Booking Mobil Ini
                </button>
              </div>
            </div>
          </div>

          <!-- FITUR BARU: Reviews Section -->
          <div class="mt-16 glass-card rounded-xl p-8">
            <h3
              class="text-2xl font-merriweather font-bold mb-6"
              data-en="Customer Reviews"
            >
              Ulasan Pelanggan
            </h3>
            <div id="reviews-container" class="space-y-6">
              <!-- Reviews will be dynamically inserted here -->
            </div>
            <button
              id="add-review-btn"
              class="btn-primary mt-6"
              data-en="Add Review"
            >
              <i class="fas fa-star mr-2"></i>Tambah Ulasan
            </button>
          </div>

          <!-- Tabs Section -->
          <div class="glass-card rounded-xl p-8 mt-12">
            <div class="tab-nav flex flex-wrap gap-6 mb-8">
              <button
                class="tab-btn active text-lg font-semibold pb-2"
                data-tab="specifications"
                data-en="Specifications"
              >
                Spesifikasi
              </button>
              <button
                class="tab-btn text-lg font-semibold pb-2"
                data-tab="features"
                data-en="Features"
              >
                Fitur
              </button>
              <button
                class="tab-btn text-lg font-semibold pb-2"
                data-tab="inspection"
                data-en="Inspection"
              >
                Hasil Inspeksi
              </button>
              <button
                class="tab-btn text-lg font-semibold pb-2"
                data-tab="documents"
                data-en="Documents"
              >
                Dokumen
              </button>
            </div>

            <!-- Specifications Tab -->
            <div id="specifications-tab" class="tab-content">
              <h3
                class="text-2xl font-semibold mb-6"
                data-en="Full Specifications"
              >
                Spesifikasi Lengkap
              </h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                  <h4
                    class="text-lg font-semibold mb-4 gradient-text"
                    data-en="Engine"
                  >
                    Mesin
                  </h4>
                  <table class="spec-table w-full">
                    <tr>
                      <td class="py-2 text-slate-400" data-en="Engine Type">
                        Tipe Mesin
                      </td>
                      <td class="py-2 text-right" id="engine-type"></td>
                    </tr>
                    <tr>
                      <td class="py-2 text-slate-400" data-en="Engine Capacity">
                        Kapasitas Mesin
                      </td>
                      <td class="py-2 text-right" id="engine-capacity"></td>
                    </tr>
                    <tr>
                      <td class="py-2 text-slate-400" data-en="Max Power">
                        Daya Maksimum
                      </td>
                      <td class="py-2 text-right" id="engine-power"></td>
                    </tr>
                    <tr>
                      <td class="py-2 text-slate-400" data-en="Max Torque">
                        Torsi Maksimum
                      </td>
                      <td class="py-2 text-right" id="engine-torque"></td>
                    </tr>
                    <tr>
                      <td class="py-2 text-slate-400" data-en="Fuel System">
                        Sistem Bahan Bakar
                      </td>
                      <td class="py-2 text-right" id="fuel-system"></td>
                    </tr>
                  </table>
                </div>
                <div>
                  <h4
                    class="text-lg font-semibold mb-4 gradient-text"
                    data-en="Dimensions"
                  >
                    Dimensi
                  </h4>
                  <table class="spec-table w-full">
                    <tr>
                      <td class="py-2 text-slate-400" data-en="Length">
                        Panjang
                      </td>
                      <td class="py-2 text-right" id="length"></td>
                    </tr>
                    <tr>
                      <td class="py-2 text-slate-400" data-en="Width">Lebar</td>
                      <td class="py-2 text-right" id="width"></td>
                    </tr>
                    <tr>
                      <td class="py-2 text-slate-400" data-en="Height">
                        Tinggi
                      </td>
                      <td class="py-2 text-right" id="height"></td>
                    </tr>
                    <tr>
                      <td class="py-2 text-slate-400" data-en="Wheelbase">
                        Jarak Sumbu Roda
                      </td>
                      <td class="py-2 text-right" id="wheelbase"></td>
                    </tr>
                    <tr>
                      <td class="py-2 text-slate-400" data-en="Weight">
                        Berat Kosong
                      </td>
                      <td class="py-2 text-right" id="weight"></td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>

            <!-- Features Tab -->
            <div id="features-tab" class="tab-content hidden">
              <h3 class="text-2xl font-semibold mb-6" data-en="Car Features">
                Fitur Mobil
              </h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                  <h4
                    class="text-lg font-semibold mb-4 gradient-text"
                    data-en="Exterior"
                  >
                    Eksterior
                  </h4>
                  <ul id="exterior-features" class="space-y-2"></ul>
                </div>
                <div>
                  <h4
                    class="text-lg font-semibold mb-4 gradient-text"
                    data-en="Interior"
                  >
                    Interior
                  </h4>
                  <ul id="interior-features" class="space-y-2"></ul>
                </div>
                <div>
                  <h4
                    class="text-lg font-semibold mb-4 gradient-text"
                    data-en="Safety"
                  >
                    Keselamatan
                  </h4>
                  <ul id="safety-features" class="space-y-2"></ul>
                </div>
                <div>
                  <h4
                    class="text-lg font-semibold mb-4 gradient-text"
                    data-en="Entertainment"
                  >
                    Hiburan
                  </h4>
                  <ul id="entertainment-features" class="space-y-2"></ul>
                </div>
              </div>
            </div>

            <!-- Inspection Tab -->
            <div id="inspection-tab" class="tab-content hidden">
              <h3
                class="text-2xl font-semibold mb-6"
                data-en="Inspection Results"
              >
                Hasil Inspeksi
              </h3>
              <div class="glass-card p-6 rounded-lg mb-6">
                <div class="flex items-center justify-between mb-4">
                  <h4 class="text-lg font-semibold" data-en="Car Condition">
                    Kondisi Mobil
                  </h4>
                  <span
                    class="bg-green-600 text-white px-3 py-1 rounded-full text-sm"
                    data-en="Inspection Passed"
                    >Lulus Inspeksi</span
                  >
                </div>
                <p
                  class="text-slate-300 mb-4"
                  data-en="The car has passed 175 technical and document inspection points by our expert team."
                >
                  Mobil telah melalui 175 titik pemeriksaan teknis dan dokumen
                  oleh tim ahli kami.
                </p>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                  <div class="text-center">
                    <div
                      class="w-16 h-16 mx-auto bg-green-600 rounded-full flex items-center justify-center mb-2"
                    >
                      <i class="fas fa-check text-white text-xl"></i>
                    </div>
                    <p class="text-sm" data-en="Engine">Mesin</p>
                  </div>
                  <div class="text-center">
                    <div
                      class="w-16 h-16 mx-auto bg-green-600 rounded-full flex items-center justify-center mb-2"
                    >
                      <i class="fas fa-check text-white text-xl"></i>
                    </div>
                    <p class="text-sm" data-en="Transmission">Transmisi</p>
                  </div>
                  <div class="text-center">
                    <div
                      class="w-16 h-16 mx-auto bg-green-600 rounded-full flex items-center justify-center mb-2"
                    >
                      <i class="fas fa-check text-white text-xl"></i>
                    </div>
                    <p class="text-sm" data-en="Brakes">Rem</p>
                  </div>
                  <div class="text-center">
                    <div
                      class="w-16 h-16 mx-auto bg-green-600 rounded-full flex items-center justify-center mb-2"
                    >
                      <i class="fas fa-check text-white text-xl"></i>
                    </div>
                    <p class="text-sm" data-en="Electrical">Kelistrikan</p>
                  </div>
                </div>
              </div>
              <div class="glass-card p-6 rounded-lg">
                <h4
                  class="text-lg font-semibold mb-4"
                  data-en="Inspection Details"
                >
                  Detail Pemeriksaan
                </h4>
                <table class="spec-table w-full">
                  <tr>
                    <td class="py-2 text-slate-400" data-en="Inspection Date">
                      Tanggal Inspeksi
                    </td>
                    <td class="py-2 text-right" id="inspection-date"></td>
                  </tr>
                  <tr>
                    <td class="py-2 text-slate-400" data-en="Inspector">
                      Inspektor
                    </td>
                    <td class="py-2 text-right" id="inspector"></td>
                  </tr>
                  <tr>
                    <td
                      class="py-2 text-slate-400"
                      data-en="Kilometer at Inspection"
                    >
                      Kilometer Saat Inspeksi
                    </td>
                    <td class="py-2 text-right" id="inspection-mileage"></td>
                  </tr>
                  <tr>
                    <td class="py-2 text-slate-400" data-en="Report Number">
                      Nomor Laporan
                    </td>
                    <td class="py-2 text-right" id="report-number"></td>
                  </tr>
                </table>
              </div>
            </div>

            <!-- Documents Tab -->
            <div id="documents-tab" class="tab-content hidden">
              <h3 class="text-2xl font-semibold mb-6" data-en="Car Documents">
                Dokumen Mobil
              </h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="glass-card p-6 rounded-lg">
                  <h4
                    class="text-lg font-semibold mb-4"
                    data-en="Vehicle Documents"
                  >
                    Dokumen Kendaraan
                  </h4>
                  <ul class="space-y-3">
                    <li class="flex items-center">
                      <i class="fas fa-check-circle text-green-600 mr-3"></i
                      ><span data-en="Original BPKB">BPKB Asli</span>
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-check-circle text-green-600 mr-3"></i
                      ><span data-en="Active STNK">STNK Aktif</span>
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-check-circle text-green-600 mr-3"></i
                      ><span data-en="Purchase Invoice">Faktur Pembelian</span>
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-check-circle text-green-600 mr-3"></i
                      ><span data-en="Manual Book">Buku Manual</span>
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-check-circle text-green-600 mr-3"></i
                      ><span data-en="Spare Key">Kunci Serep</span>
                    </li>
                  </ul>
                </div>
                <div class="glass-card p-6 rounded-lg">
                  <h4
                    class="text-lg font-semibold mb-4"
                    data-en="Maintenance History"
                  >
                    Riwayat Pemeliharaan
                  </h4>
                  <ul class="space-y-3">
                    <li class="flex items-center">
                      <i class="fas fa-check-circle text-green-600 mr-3"></i
                      ><span data-en="Regular Service">Service Berkala</span>
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-check-circle text-green-600 mr-3"></i
                      ><span data-en="Complete Service Book"
                        >Buku Service Lengkap</span
                      >
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-check-circle text-green-600 mr-3"></i
                      ><span data-en="Never Crashed"
                        >Tidak Pernah Tabrakan</span
                      >
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-check-circle text-green-600 mr-3"></i
                      ><span data-en="Never Flooded"
                        >Tidak Pernah Kebanjiran</span
                      >
                    </li>
                    <li class="flex items-center">
                      <i class="fas fa-check-circle text-green-600 mr-3"></i
                      ><span data-en="Original Odometer">Odometer Asli</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <!-- Similar Cars Section -->
          <div class="mt-16">
            <h3
              class="text-2xl font-merriweather font-bold mb-8"
              data-en="Similar Cars"
            >
              Mobil Serupa
            </h3>
            <div
              id="similar-cars-grid"
              class="grid grid-cols-1 md:grid-cols-3 gap-8"
            >
              <!-- Similar cars will be dynamically inserted here -->
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Test Drive Modal -->
    <div
      id="test-drive-modal"
      class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4"
    >
      <div class="glass-card rounded-xl max-w-md w-full p-8">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-semibold" data-en="Schedule Test Drive">
            Jadwalkan Test Drive
          </h3>
          <button id="close-modal" class="text-slate-400 hover:text-white">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        <form id="test-drive-form">
          <div class="mb-4">
            <label
              for="name"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Full Name"
              >Nama Lengkap</label
            >
            <input
              type="text"
              id="name"
              class="form-input w-full px-4 py-3 rounded-lg"
              required
            />
          </div>
          <div class="mb-4">
            <label
              for="phone"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Phone Number"
              >Nomor Telepon</label
            >
            <input
              type="tel"
              id="phone"
              class="form-input w-full px-4 py-3 rounded-lg"
              required
            />
          </div>
          <div class="mb-4">
            <label
              for="date"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Test Drive Date"
              >Tanggal Test Drive</label
            >
            <input
              type="date"
              id="date"
              class="form-input w-full px-4 py-3 rounded-lg"
              required
            />
          </div>
          <div class="mb-6">
            <label
              for="time"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Time"
              >Waktu</label
            >
            <select
              id="time"
              class="form-input w-full px-4 py-3 rounded-lg"
              required
            >
              <option value="" data-en="Select Time">Pilih Waktu</option>
              <option value="09:00">09:00</option>
              <option value="10:00">10:00</option>
              <option value="11:00">11:00</option>
              <option value="13:00">13:00</option>
              <option value="14:00">14:00</option>
              <option value="15:00">15:00</option>
              <option value="16:00">16:00</option>
            </select>
          </div>
          <button
            type="submit"
            class="btn-primary w-full py-3 rounded-lg text-lg font-bold"
            data-en="Send Request"
          >
            <i class="fas fa-check mr-2"></i>Kirim Permintaan
          </button>
        </form>
      </div>
    </div>

    <!-- FITUR BARU: Booking Modal -->
    <div
      id="booking-modal"
      class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4"
    >
      <div class="glass-card rounded-xl booking-modal p-8">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-semibold" data-en="Book This Car">
            Booking Mobil
          </h3>
          <button
            id="close-booking-modal"
            class="text-slate-400 hover:text-white"
          >
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        <form id="booking-form">
          <div class="mb-4">
            <label
              for="booking-name"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Full Name"
              >Nama Lengkap</label
            >
            <input
              type="text"
              id="booking-name"
              class="form-input w-full px-4 py-3 rounded-lg"
              required
            />
          </div>
          <div class="mb-4">
            <label
              for="booking-phone"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Phone Number"
              >Nomor Telepon</label
            >
            <input
              type="tel"
              id="booking-phone"
              class="form-input w-full px-4 py-3 rounded-lg"
              required
            />
          </div>
          <div class="mb-4">
            <label
              for="booking-email"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Email"
              >Email</label
            >
            <input
              type="email"
              id="booking-email"
              class="form-input w-full px-4 py-3 rounded-lg"
              required
            />
          </div>
          <div class="mb-4">
            <label
              for="booking-date"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Booking Date"
              >Tanggal Booking</label
            >
            <input
              type="date"
              id="booking-date"
              class="form-input w-full px-4 py-3 rounded-lg"
              required
            />
          </div>
          <div class="mb-6">
            <label
              for="booking-message"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Message (Optional)"
              >Pesan (opsional)</label
            >
            <textarea
              id="booking-message"
              class="form-input w-full px-4 py-3 rounded-lg"
              rows="3"
            ></textarea>
          </div>
          <button
            type="submit"
            class="btn-primary w-full py-3 rounded-lg text-lg font-bold"
            data-en="Book Now"
          >
            <i class="fas fa-calendar-check mr-2"></i>Booking Sekarang
          </button>
        </form>
      </div>
    </div>

    <!-- FITUR BARU: Add Review Modal -->
    <div
      id="review-modal"
      class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4"
    >
      <div class="glass-card rounded-xl max-w-md w-full p-8">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-semibold" data-en="Add Review">
            Tambah Ulasan
          </h3>
          <button
            id="close-review-modal"
            class="text-slate-400 hover:text-white"
          >
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        <form id="review-form">
          <div class="mb-4">
            <label
              for="reviewer-name"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Your Name"
              >Nama Anda</label
            >
            <input
              type="text"
              id="reviewer-name"
              class="form-input w-full px-4 py-3 rounded-lg"
              required
            />
          </div>
          <div class="mb-4">
            <label
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Rating"
              >Rating</label
            >
            <div class="flex space-x-1 review-stars text-2xl" id="rating-stars">
              <i class="far fa-star cursor-pointer" data-rating="1"></i>
              <i class="far fa-star cursor-pointer" data-rating="2"></i>
              <i class="far fa-star cursor-pointer" data-rating="3"></i>
              <i class="far fa-star cursor-pointer" data-rating="4"></i>
              <i class="far fa-star cursor-pointer" data-rating="5"></i>
            </div>
            <input type="hidden" id="review-rating" value="0" required />
          </div>
          <div class="mb-6">
            <label
              for="review-comment"
              class="block text-sm font-medium text-slate-400 mb-2"
              data-en="Your Review"
              >Ulasan Anda</label
            >
            <textarea
              id="review-comment"
              class="form-input w-full px-4 py-3 rounded-lg"
              rows="4"
              required
            ></textarea>
          </div>
          <button
            type="submit"
            class="btn-primary w-full py-3 rounded-lg text-lg font-bold"
            data-en="Submit Review"
          >
            <i class="fas fa-star mr-2"></i>Kirim Ulasan
          </button>
        </form>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-slate-950 border-t border-slate-800 py-12">
      <div class="container mx-auto px-8 text-center">
        <p
          class="text-slate-500"
          data-en="&copy; 2024 KendaraanKu. All rights reserved."
        >
          &copy; 2024 KendaraanKu. Semua hak dilindungi.
        </p>
        <p class="text-sm text-slate-600 mt-2">
          Dikembangkan oleh
          <a
            href="https://herufidiyanto.netlify.app/"
            class="gradient-text font-semibold"
            >Heru Fidiyanto</a
          >
        </p>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // --- DATA MOBIL LENGKAP (12 MOBIL) ---
        const allCars = [
          {
            id: 1,
            name: "Toyota Avanza 1.5 Veloz",
            brand: "toyota",
            price: 235000000,
            stock: 3,
            image: "https://cdn.setirkanan.co.id/images/2023/03/07/169972f79cc15ec6096542ec14958852426fb064/veloz.jpg",
            images: [
              "https://cdn.setirkanan.co.id/images/2023/03/07/169972f79cc15ec6096542ec14958852426fb064/veloz.jpg",
              "https://asset.kompas.com/crops/8N6bHr4J2FgY3c7Kj8YyR1j6s8o=/0x107:1280x960/750x500/data/photo/2021/01/13/5ffe9a8c2e8d6.jpeg",
              "https://imgcdn.oto.com/large/gallery/exterior/15/252/toyota-avanza-exterior-image-153252.jpg",
            ],
            year: 2022,
            transmission: "Manual",
            mileage: "30.000 KM",
            type: "mpv",
            isBestSeller: true,
            description: "Toyota Avanza Veloz dengan mesin 1.5L yang irit bahan bakar. Mobil dalam kondisi sangat terawat, interior bersih dan mesin halus. Cocok untuk keluarga dengan kenyamanan dan keamanan terbaik.",
            fuel: "Bensin",
            seats: "7 Kursi",
            color: "Putih",
            engineType: "4 Silinder Segaris, 16 Katup DOHC dengan Dual VVT-i",
            engineCapacity: "1.496 cc",
            enginePower: "104 hp @ 6.000 rpm",
            engineTorque: "136 Nm @ 4.200 rpm",
            fuelSystem: "Electronic Fuel Injection (EFI)",
            length: "4.395 mm",
            width: "1.730 mm",
            height: "1.700 mm",
            wheelbase: "2.750 mm",
            weight: "1.190 kg",
            exteriorFeatures: ["LED Headlights", "Power Adjustable Side Mirrors", "16-inch Alloy Wheels", "Rear Spoiler"],
            interiorFeatures: ["Leather Seats", "Digital AC", "7-inch Touchscreen", "Reverse Camera"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Vehicle Stability Control", "Hill Start Assist"],
            entertainmentFeatures: ["Touchscreen Display", "Bluetooth Connectivity", "USB Ports", "4 Speakers"],
            inspectionDate: "15 Maret 2024",
            inspector: "Budi Santoso",
            inspectionMileage: "29.850 KM",
            reportNumber: "INS-2024-001235",
          },
          {
            id: 2,
            name: "Daihatsu Xenia 1.5 R Deluxe",
            brand: "daihatsu",
            price: 195000000,
            stock: 5,
            image: "https://www.static-src.com/wcsstore/Indraprastha/images/catalog/full//99/MTA-65303648/daihatsu_daihatsu_xenia_1-5_r_deluxe_mt_2019_silver_full01_hz88h8ga.jpg",
            images: [
              "https://www.static-src.com/wcsstore/Indraprastha/images/catalog/full//99/MTA-65303648/daihatsu_daihatsu_xenia_1-5_r_deluxe_mt_2019_silver_full01_hz88h8ga.jpg",
              "https://imgcdn.oto.com/large/gallery/exterior/22/2517/daihatsu-xenia-exterior-image-222517.jpg",
              "https://imgcdn.oto.com/large/gallery/interior/22/2517/daihatsu-xenia-interior-image-222517.jpg",
            ],
            year: 2021,
            transmission: "Manual",
            mileage: "45.000 KM",
            type: "mpv",
            isBestSeller: false,
            description: "Daihatsu Xenia R Deluxe dengan mesin 1.5L yang handal dan irit. Mobil keluarga dengan interior yang luas dan nyaman. Perawatan rutin di bengkel resmi.",
            fuel: "Bensin",
            seats: "7 Kursi",
            color: "Silver",
            engineType: "3NR-VE 4 Silinder",
            engineCapacity: "1.496 cc",
            enginePower: "103 hp @ 6.000 rpm",
            engineTorque: "134 Nm @ 4.200 rpm",
            fuelSystem: "Electronic Fuel Injection (EFI)",
            length: "4.395 mm",
            width: "1.730 mm",
            height: "1.695 mm",
            wheelbase: "2.750 mm",
            weight: "1.165 kg",
            exteriorFeatures: ["Projector Headlights", "Body Color Bumper", "15-inch Alloy Wheels", "Roof Rails"],
            interiorFeatures: ["Fabric Seats", "Manual AC", "Audio System", "Power Windows"],
            safetyFeatures: ["Dual SRS Airbags", "ABS", "Rear Parking Sensors", "Child Safety Locks"],
            entertainmentFeatures: ["CD/MP3 Player", "USB Port", "4 Speakers", "Bluetooth"],
            inspectionDate: "10 Maret 2024",
            inspector: "Sari Dewi",
            inspectionMileage: "44.750 KM",
            reportNumber: "INS-2024-001236",
          },
          {
            id: 3,
            name: "Suzuki Ertiga GX",
            brand: "suzuki",
            price: 210000000,
            stock: 2,
            image: "https://www.olx.co.id/news/wp-content/uploads/2021/11/Suzuki-Ertiga-GX-Mobil-Keluarga-Yang-Kini-Jadi-Buruan.png",
            images: [
              "https://www.olx.co.id/news/wp-content/uploads/2021/11/Suzuki-Ertiga-GX-Mobil-Keluarga-Yang-Kini-Jadi-Buruan.png",
              "https://imgcdn.oto.com/large/gallery/exterior/21/2517/suzuki-ertiga-exterior-image-212517.jpg",
              "https://imgcdn.oto.com/large/gallery/interior/21/2517/suzuki-ertiga-interior-image-212517.jpg",
            ],
            year: 2022,
            transmission: "Automatic",
            mileage: "25.000 KM",
            type: "mpv",
            isBestSeller: true,
            description: "Suzuki Ertiga GX dengan transmisi otomatis yang nyaman untuk perkotaan. Mesin 1.5L yang irit dan responsif. Interior bersih dan terawat dengan baik.",
            fuel: "Bensin",
            seats: "7 Kursi",
            color: "Hitam",
            engineType: "K15B 4 Silinder",
            engineCapacity: "1.462 cc",
            enginePower: "103 hp @ 6.000 rpm",
            engineTorque: "138 Nm @ 4.400 rpm",
            fuelSystem: "Multi-point Fuel Injection",
            length: "4.395 mm",
            width: "1.735 mm",
            height: "1.690 mm",
            wheelbase: "2.740 mm",
            weight: "1.140 kg",
            exteriorFeatures: ["Halogen Headlights", "Chrome Grille", "15-inch Steel Wheels", "Body Color Door Handles"],
            interiorFeatures: ["Fabric Seats", "Manual AC", "Audio System", "Tilt Steering"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Rear Parking Sensors", "Engine Immobilizer"],
            entertainmentFeatures: ["Audio System", "USB Port", "4 Speakers", "AUX Input"],
            inspectionDate: "20 Maret 2024",
            inspector: "Ahmad Rizki",
            inspectionMileage: "24.800 KM",
            reportNumber: "INS-2024-001237",
          },
          {
            id: 4,
            name: "Honda Brio Satya E CVT",
            brand: "honda",
            price: 185000000,
            stock: 7,
            image: "https://cdn.honda-bandung.com/wp-content/uploads/2018/05/Brio-RS-02-1.jpg",
            images: [
              "https://cdn.honda-bandung.com/wp-content/uploads/2018/05/Brio-RS-02-1.jpg",
              "https://imgcdn.oto.com/large/gallery/exterior/19/2517/honda-brio-exterior-image-192517.jpg",
              "https://imgcdn.oto.com/large/gallery/interior/19/2517/honda-brio-interior-image-192517.jpg",
            ],
            year: 2021,
            transmission: "Automatic",
            mileage: "40.000 KM",
            type: "hatchback",
            isBestSeller: true,
            description: "Honda Brio Satya E CVT dengan transmisi otomatis yang smooth. Mobil kota yang irit dan mudah dikendarai. Cocok untuk pemula atau kebutuhan harian.",
            fuel: "Bensin",
            seats: "5 Kursi",
            color: "Merah",
            engineType: "L15Z 4 Silinder SOHC i-VTEC",
            engineCapacity: "1.199 cc",
            enginePower: "88 hp @ 6.000 rpm",
            engineTorque: "109 Nm @ 4.800 rpm",
            fuelSystem: "Programmed Fuel Injection (PGM-FI)",
            length: "3.610 mm",
            width: "1.680 mm",
            height: "1.475 mm",
            wheelbase: "2.405 mm",
            weight: "950 kg",
            exteriorFeatures: ["Halogen Headlights", "Body Color Bumper", "14-inch Steel Wheels", "Rear Spoiler"],
            interiorFeatures: ["Fabric Seats", "Manual AC", "Audio System", "Power Windows"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Rear Parking Sensors", "High-Mount Stop Lamp"],
            entertainmentFeatures: ["Audio System", "USB Port", "4 Speakers", "AUX Input"],
            inspectionDate: "12 Maret 2024",
            inspector: "Dewi Lestari",
            inspectionMileage: "39.500 KM",
            reportNumber: "INS-2024-001238",
          },
          {
            id: 5,
            name: "Toyota Agya 1.2 G TRD",
            brand: "toyota",
            price: 145000000,
            stock: 4,
            image: "https://imgx.gridoto.com/crop/85x97:1109x609/700x465/filters:watermark(file/2017/gridoto/img/watermark_otomotifnet.png,5,5,60)/photo/2020/05/03/2001940669.jpeg",
            images: [
              "https://imgx.gridoto.com/crop/85x97:1109x609/700x465/filters:watermark(file/2017/gridoto/img/watermark_otomotifnet.png,5,5,60)/photo/2020/05/03/2001940669.jpeg",
              "https://imgcdn.oto.com/large/gallery/exterior/17/2517/toyota-agya-exterior-image-172517.jpg",
              "https://imgcdn.oto.com/large/gallery/interior/17/2517/toyota-agya-interior-image-172517.jpg",
            ],
            year: 2020,
            transmission: "Manual",
            mileage: "60.000 KM",
            type: "hatchback",
            isBestSeller: false,
            description: "Toyota Agya 1.2 G TRD dengan aksesori sporty. Mobil kota yang sangat irit dengan perawatan mudah. Cocok untuk anak muda atau kebutuhan sekunder.",
            fuel: "Bensin",
            seats: "5 Kursi",
            color: "Abu-abu",
            engineType: "1NR-FE 4 Silinder DOHC",
            engineCapacity: "1.197 cc",
            enginePower: "85 hp @ 6.000 rpm",
            engineTorque: "108 Nm @ 4.400 rpm",
            fuelSystem: "Electronic Fuel Injection (EFI)",
            length: "3.760 mm",
            width: "1.665 mm",
            height: "1.510 mm",
            wheelbase: "2.450 mm",
            weight: "865 kg",
            exteriorFeatures: ["Halogen Headlights", "TRD Body Kit", "14-inch Alloy Wheels", "Rear Spoiler"],
            interiorFeatures: ["Fabric Seats", "Manual AC", "Audio System", "Power Windows"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Rear Parking Sensors", "Immobilizer"],
            entertainmentFeatures: ["Audio System", "USB Port", "4 Speakers", "Bluetooth"],
            inspectionDate: "08 Maret 2024",
            inspector: "Rizki Pratama",
            inspectionMileage: "59.800 KM",
            reportNumber: "INS-2024-001239",
          },
          {
            id: 6,
            name: "Honda Mobilio E CVT",
            brand: "honda",
            price: 190000000,
            stock: 1,
            image: "https://img.cintamobil.com/resize/600x-/2022/08/25/20220825104542-4778.png",
            images: [
              "https://img.cintamobil.com/resize/600x-/2022/08/25/20220825104542-4778.png",
              "https://imgcdn.oto.com/large/gallery/exterior/16/2517/honda-mobilio-exterior-image-162517.jpg",
              "https://imgcdn.oto.com/large/gallery/interior/16/2517/honda-mobilio-interior-image-162517.jpg",
            ],
            year: 2020,
            transmission: "Automatic",
            mileage: "65.000 KM",
            type: "mpv",
            isBestSeller: false,
            description: "Honda Mobilio E CVT dengan ruang kabin yang luas dan nyaman. Transmisi CVT yang halus dan irit bahan bakar. Cocok untuk keluarga dengan kebutuhan mobilitas tinggi.",
            fuel: "Bensin",
            seats: "7 Kursi",
            color: "Putih",
            engineType: "L15Z 4 Silinder SOHC i-VTEC",
            engineCapacity: "1.499 cc",
            enginePower: "117 hp @ 6.600 rpm",
            engineTorque: "145 Nm @ 4.600 rpm",
            fuelSystem: "Programmed Fuel Injection (PGM-FI)",
            length: "4.396 mm",
            width: "1.683 mm",
            height: "1.603 mm",
            wheelbase: "2.652 mm",
            weight: "1.155 kg",
            exteriorFeatures: ["Halogen Headlights", "Chrome Grille", "15-inch Steel Wheels", "Roof Rails"],
            interiorFeatures: ["Fabric Seats", "Manual AC", "Audio System", "Power Windows"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Rear Parking Sensors", "Immobilizer"],
            entertainmentFeatures: ["Audio System", "USB Port", "4 Speakers", "Bluetooth"],
            inspectionDate: "18 Maret 2024",
            inspector: "Budi Santoso",
            inspectionMileage: "64.750 KM",
            reportNumber: "INS-2024-001240",
          },
          {
            id: 7,
            name: "Mitsubishi Xpander Ultimate",
            brand: "mitsubishi",
            price: 275000000,
            stock: 3,
            image: "https://imgcdn.oto.com/medium/gallery/exterior/28/1635/mitsubishi-xpander-17705.jpg",
            images: [
              "https://imgcdn.oto.com/medium/gallery/exterior/28/1635/mitsubishi-xpander-17705.jpg",
              "https://storage.googleapis.com/gcmkscsp001/public/media-assets/cecdc71b-050f-4160-a948-08dde040f08c/conversions/bugxr6rpsrdevfypxhdd4nxediylyxjvomqhxcyv-optimized.webp?GoogleAccessId=bsidevops%40gp-prod-mmksi-web-01.iam.gserviceaccount.com&Expires=1764166235&Signature=OxHsCwwNqVJW9vrYc7DIBKh9um6MBrtfwBJJWcxiafNxvo1mu8UgWtkorSonMo9ry1GM%2BnIWBX6GntYDzp2nDFEAXRy9bqiHskl%2BXG9hnTd9ZB%2Fj1rTGIBz3SDCNDfieGu7FNkfCJ3xndvbdhjEhcn%2BzUfJAx6JvHM8YOJMByh4NCGPJWUnKNVL%2B88Vf7aAR%2BOXvy%2FN%2FrBsNkB4qnlVpWlBNZ%2BIEfCc2TnlDoIjxwbGQ2lL65d%2F1wXMdPgOrVXRct1GgYxKoCpMpwmhqkyoJUEGwAGY2KodrllKmKatSVCCayPnaf86SE0%2FDLyTXOOtCfaLjJxB7vhh9h9DdVpLRbA%3D%3D",
              "https://www.sunstarmotor.id/wp-content/uploads/Xpander-Ultimate-4.jpg",
            ],
            year: 2022,
            transmission: "Automatic",
            mileage: "22.000 KM",
            type: "mpv",
            isBestSeller: true,
            description: "Mitsubishi Xpander Ultimate dengan fitur lengkap dan desain modern. Mesin 1.5L MIVEC yang irit dan bertenaga. Interior premium dengan kenyamanan maksimal.",
            fuel: "Bensin",
            seats: "7 Kursi",
            color: "Putih",
            engineType: "4A91 4 Silinder MIVEC",
            engineCapacity: "1.499 cc",
            enginePower: "103 hp @ 6.000 rpm",
            engineTorque: "141 Nm @ 4.000 rpm",
            fuelSystem: "Electronic Fuel Injection (EFI)",
            length: "4.475 mm",
            width: "1.750 mm",
            height: "1.700 mm",
            wheelbase: "2.775 mm",
            weight: "1.220 kg",
            exteriorFeatures: ["LED Headlights", "Power Retractable Side Mirrors", "16-inch Alloy Wheels", "Roof Rails"],
            interiorFeatures: ["Leather Seats", "Automatic AC", "8-inch Touchscreen", "Reverse Camera"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Vehicle Stability Control", "Hill Start Assist"],
            entertainmentFeatures: ["8-inch Touchscreen", "Apple CarPlay/Android Auto", "6 Speakers", "USB Ports"],
            inspectionDate: "22 Maret 2024",
            inspector: "Sari Dewi",
            inspectionMileage: "21.500 KM",
            reportNumber: "INS-2024-001241",
          },
          {
            id: 8,
            name: "Toyota Rush 1.5 G M/T",
            brand: "toyota",
            price: 260000000,
            stock: 2,
            image: "https://img5.icarcdn.com/3210147/gallery_new-car-mobil123-toyota-rush-g-suv-indonesia_000003210147_099bf8a1_a327_46dc_8100_54d5498b0ef5.jpg?smia=xTM",
            images: [
              "https://img5.icarcdn.com/3210147/gallery_new-car-mobil123-toyota-rush-g-suv-indonesia_000003210147_099bf8a1_a327_46dc_8100_54d5498b0ef5.jpg?smia=xTM",
              "https://www.olx.co.id/news/wp-content/uploads/2023/01/review-mobil-toyota-rush-696x446.jpg",
              "https://static.promediateknologi.id/crop/0x0:0x0/750x500/webp/photo/p1/1029/2024/04/02/rush-gr-sport-4039006315.jpg",
            ],
            year: 2021,
            transmission: "Manual",
            mileage: "35.000 KM",
            type: "suv",
            isBestSeller: false,
            description: "Toyota Rush 1.5 G M/T dengan desain SUV yang gagah. Dilengkapi fitur keselamatan yang lengkap. Cocok untuk keluarga yang menyukai petualangan.",
            fuel: "Bensin",
            seats: "7 Kursi",
            color: "Hitam",
            engineType: "2NR-VE 4 Silinder",
            engineCapacity: "1.496 cc",
            enginePower: "102 hp @ 6.000 rpm",
            engineTorque: "134 Nm @ 4.200 rpm",
            fuelSystem: "Electronic Fuel Injection (EFI)",
            length: "4.435 mm",
            width: "1.695 mm",
            height: "1.705 mm",
            wheelbase: "2.685 mm",
            weight: "1.190 kg",
            exteriorFeatures: ["LED Headlights", "Roof Rails", "17-inch Alloy Wheels", "Rear Spoiler"],
            interiorFeatures: ["Fabric Seats", "Manual AC", "Audio System", "Power Windows"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Vehicle Stability Control", "Hill Start Assist"],
            entertainmentFeatures: ["Audio System", "USB Port", "4 Speakers", "Bluetooth"],
            inspectionDate: "14 Maret 2024",
            inspector: "Ahmad Rizki",
            inspectionMileage: "34.800 KM",
            reportNumber: "INS-2024-001242",
          },
          {
            id: 9,
            name: "Daihatsu Terios R Custom",
            brand: "daihatsu",
            price: 245000000,
            stock: 4,
            image: "https://www.astra-daihatsu.id/_next/image?url=https%3A%2F%2Fdsoodysseusstprod.blob.core.windows.net%2Fstrapi-media%2Fassets%2Fsys_master_media_he0_h00_8822106095646_SUV_20_Terios_46d6a8fa21.jpg&w=3840&q=75",
            images: [
              "https://www.astra-daihatsu.id/_next/image?url=https%3A%2F%2Fdsoodysseusstprod.blob.core.windows.net%2Fstrapi-media%2Fassets%2Fsys_master_media_he0_h00_8822106095646_SUV_20_Terios_46d6a8fa21.jpg&w=3840&q=75",
              "https://imgcdn.oto.com/large/gallery/exterior/19/2517/daihatsu-terios-exterior-image-192517.jpg",
              "https://imgcdn.oto.com/large/gallery/interior/19/2517/daihatsu-terios-interior-image-192517.jpg",
            ],
            year: 2022,
            transmission: "Automatic",
            mileage: "28.000 KM",
            type: "suv",
            isBestSeller: false,
            description: "Daihatsu Terios R Custom dengan aksesori custom yang sporty. SUV compact yang tangguh di berbagai medan. Interior nyaman dengan fitur lengkap.",
            fuel: "Bensin",
            seats: "7 Kursi",
            color: "Putih",
            engineType: "2NR-VE 4 Silinder",
            engineCapacity: "1.496 cc",
            enginePower: "102 hp @ 6.000 rpm",
            engineTorque: "134 Nm @ 4.200 rpm",
            fuelSystem: "Electronic Fuel Injection (EFI)",
            length: "4.435 mm",
            width: "1.695 mm",
            height: "1.705 mm",
            wheelbase: "2.685 mm",
            weight: "1.190 kg",
            exteriorFeatures: ["Projector Headlights", "Custom Body Kit", "17-inch Alloy Wheels", "Roof Rails"],
            interiorFeatures: ["Fabric Seats", "Manual AC", "Audio System", "Power Windows"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Vehicle Stability Control", "Hill Start Assist"],
            entertainmentFeatures: ["Audio System", "USB Port", "4 Speakers", "Bluetooth"],
            inspectionDate: "16 Maret 2024",
            inspector: "Dewi Lestari",
            inspectionMileage: "27.600 KM",
            reportNumber: "INS-2024-001243",
          },
          {
            id: 10,
            name: "Suzuki Ignis GX AGS",
            brand: "suzuki",
            price: 175000000,
            stock: 6,
            image: "https://www.suzukimadiun.id/wp-content/uploads/2023/09/Suzuki_IGnis_760px.jpg",
            images: [
              "https://www.suzukimadiun.id/wp-content/uploads/2023/09/Suzuki_IGnis_760px.jpg",
              "https://imgcdn.oto.com/large/gallery/exterior/20/2517/suzuki-ignis-exterior-image-202517.jpg",
              "https://imgcdn.oto.com/large/gallery/interior/20/2517/suzuki-ignis-interior-image-202517.jpg",
            ],
            year: 2022,
            transmission: "Automatic",
            mileage: "20.000 KM",
            type: "hatchback",
            isBestSeller: false,
            description: "Suzuki Ignis GX AGS dengan desain unik dan compact. Transmisi otomatis yang nyaman untuk perkotaan. Irit bahan bakar dan mudah diparkir.",
            fuel: "Bensin",
            seats: "5 Kursi",
            color: "Biru",
            engineType: "K12C 4 Silinder",
            engineCapacity: "1.197 cc",
            enginePower: "82 hp @ 6.000 rpm",
            engineTorque: "107 Nm @ 4.400 rpm",
            fuelSystem: "Multi-point Fuel Injection",
            length: "3.700 mm",
            width: "1.660 mm",
            height: "1.595 mm",
            wheelbase: "2.435 mm",
            weight: "865 kg",
            exteriorFeatures: ["Halogen Headlights", "Roof Rails", "15-inch Alloy Wheels", "Body Color Door Handles"],
            interiorFeatures: ["Fabric Seats", "Manual AC", "Audio System", "Power Windows"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Rear Parking Sensors", "Immobilizer"],
            entertainmentFeatures: ["Audio System", "USB Port", "4 Speakers", "Bluetooth"],
            inspectionDate: "19 Maret 2024",
            inspector: "Rizki Pratama",
            inspectionMileage: "19.800 KM",
            reportNumber: "INS-2024-001244",
          },
          {
            id: 11,
            name: "Honda Jazz RS CVT",
            brand: "honda",
            price: 280000000,
            stock: 1,
            image: "https://imgcdn.oto.com/medium/gallery/color/14/1799/honda-jazz-color-871461.jpg",
            images: [
              "https://imgcdn.oto.com/medium/gallery/color/14/1799/honda-jazz-color-871461.jpg",
              "https://imgcdn.oto.com/large/gallery/exterior/17/2517/honda-jazz-exterior-image-172517.jpg",
              "https://imgcdn.oto.com/large/gallery/interior/17/2517/honda-jazz-interior-image-172517.jpg",
            ],
            year: 2021,
            transmission: "Automatic",
            mileage: "30.000 KM",
            type: "hatchback",
            isBestSeller: true,
            description: "Honda Jazz RS CVT dengan magic seat yang fleksibel. Desain modern dan fitur canggih. Cocok untuk kota dan perjalanan jarak jauh.",
            fuel: "Bensin",
            seats: "5 Kursi",
            color: "Putih",
            engineType: "L15Z 4 Silinder SOHC i-VTEC",
            engineCapacity: "1.499 cc",
            enginePower: "118 hp @ 6.600 rpm",
            engineTorque: "145 Nm @ 4.600 rpm",
            fuelSystem: "Programmed Fuel Injection (PGM-FI)",
            length: "3.995 mm",
            width: "1.694 mm",
            height: "1.520 mm",
            wheelbase: "2.530 mm",
            weight: "1.090 kg",
            exteriorFeatures: ["LED Headlights", "RS Body Kit", "16-inch Alloy Wheels", "Rear Spoiler"],
            interiorFeatures: ["Fabric Seats", "Automatic AC", "Touchscreen Audio", "Magic Seats"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Vehicle Stability Control", "Hill Start Assist"],
            entertainmentFeatures: ["Touchscreen Audio", "USB Port", "4 Speakers", "Bluetooth"],
            inspectionDate: "21 Maret 2024",
            inspector: "Budi Santoso",
            inspectionMileage: "29.500 KM",
            reportNumber: "INS-2024-001245",
          },
          {
            id: 12,
            name: "Toyota Yaris G MT",
            brand: "toyota",
            price: 265000000,
            stock: 3,
            image: "https://d1g6w7sntckt92.cloudfront.net/public/images/color_option_images/ufR9QnTF2c6T4PYDTydp9VIzUzz069TOnAjnakpy.png",
            images: [
              "https://d1g6w7sntckt92.cloudfront.net/public/images/color_option_images/ufR9QnTF2c6T4PYDTydp9VIzUzz069TOnAjnakpy.png",
              "https://imgcdn.oto.com/large/gallery/exterior/19/2517/toyota-yaris-exterior-image-192517.jpg",
              "https://imgcdn.oto.com/large/gallery/interior/19/2517/toyota-yaris-interior-image-192517.jpg",
            ],
            year: 2020,
            transmission: "Manual",
            mileage: "50.000 KM",
            type: "hatchback",
            isBestSeller: false,
            description: "Toyota Yaris G MT dengan handling yang responsif. Desain sporty dan interior yang nyaman. Perawatan rutin di bengkel resmi.",
            fuel: "Bensin",
            seats: "5 Kursi",
            color: "Silver",
            engineType: "2NR-FE 4 Silinder DOHC",
            engineCapacity: "1.496 cc",
            enginePower: "106 hp @ 6.000 rpm",
            engineTorque: "140 Nm @ 4.200 rpm",
            fuelSystem: "Electronic Fuel Injection (EFI)",
            length: "4.145 mm",
            width: "1.730 mm",
            height: "1.475 mm",
            wheelbase: "2.550 mm",
            weight: "1.050 kg",
            exteriorFeatures: ["Halogen Headlights", "Body Color Spoiler", "15-inch Alloy Wheels", "Chrome Grille"],
            interiorFeatures: ["Fabric Seats", "Manual AC", "Audio System", "Power Windows"],
            safetyFeatures: ["Dual SRS Airbags", "ABS dengan EBD", "Rear Parking Sensors", "Immobilizer"],
            entertainmentFeatures: ["Audio System", "USB Port", "4 Speakers", "Bluetooth"],
            inspectionDate: "11 Maret 2024",
            inspector: "Sari Dewi",
            inspectionMileage: "49.800 KM",
            reportNumber: "INS-2024-001246",
          }
        ];

        // --- GLOBAL VARIABLES ---
        const homeView = document.getElementById("home-view");
        const detailView = document.getElementById("detail-view");
        const tradeInView = document.getElementById("trade-in-view");
        const wishlistView = document.getElementById("wishlist-view");
        const comparisonView = document.getElementById("comparison-view");

        const carGrid = document.getElementById("car-grid");
        const noResultsDiv = document.getElementById("no-results");
        const loadMoreBtn = document.getElementById("load-more-btn");
        const loadingSpinner = document.getElementById("loading-spinner");
        const compareBtn = document.getElementById("compare-btn");
        const compareCountSpan = document.getElementById("compare-count");

        let carsToCompare = new Set();
        let currentPage = 0;
        const carsPerPage = 6;
        let filteredCars = [...allCars];
        let currentCar = null;

        // --- FITUR BARU: Wishlist Variables ---
        let wishlist = JSON.parse(localStorage.getItem("carWishlist")) || [];
        const wishlistCountSpan = document.getElementById("wishlist-count");
        const wishlistGrid = document.getElementById("wishlist-grid");
        const wishlistEmptyDiv = document.getElementById("wishlist-empty");

        // --- FITUR BARU: Trade-in Variables ---
        let currentTradeInStep = 1;
        const formSteps = document.querySelectorAll(".form-step");

        // --- FITUR BARU: Language Support ---
        let currentLanguage = "id";
        const translations = {
          id: {
            // Navbar
            Inventory: "Stok Mobil",
            "Sell Your Car": "Jual Mobil",
            Promo: "Promo",
            "Credit Simulation": "Simulasi Kredit",
            Contact: "Kontak",
            Wishlist: "Wishlist",
            "Contact Us": "Hubungi Kami",
            // Hero
            "Quality and <span class='text-blue-600'>Trust</span> in Every Vehicle":
              "Kualitas <span class='gradient-text'>Teruji,</span> Harga Terbaik",
            "Find your dream car at the best price. Passed strict inspection and guaranteed complete documents.":
              "Temukan mobil idaman Anda dengan harga terbaik. Lulus inspeksi ketat dan dokumen dijamin lengkap.",
            "View Car Stock": "Lihat Stok Mobil",
            "Sell Your Car Now": "Jual Mobil Sekarang",
            "Book Appointment": "Booking Konsultasi",
            // Promo
            "MONTHLY PROMO: Free Administration Fee & Insurance for all credit purchases!":
              "PROMO BULAN INI: Gratis Biaya Administrasi & Asuransi untuk semua pembelian kredit!",
            // Inventory
            "Our Car Stock": "Stok Mobil Kami",
            "Best selection with competitive prices.":
              "Pilihan terbaik dengan harga yang kompetitif.",
            "Compare:": "Bandingkan:",
            Compare: "Bandingkan",
            "Search Cars": "Cari Mobil",
            "Type brand or model...": "Ketik merek atau model mobil...",
            "All Brands": "Semua Merek",
            "All Prices": "Semua Harga",
            "< 200 Million": "&lt; 200 Juta",
            "200 - 350 Million": "200 - 350 Juta",
            "> 350 Million": "&gt; 350 Juta",
            "All Types": "Semua Tipe",
            "Load More": "Lihat Lainnya",
            "Sorry, no cars match your criteria.":
              "Maaf, tidak ada mobil yang sesuai dengan kriteria Anda.",
            // Credit Simulation
            "Credit Simulation": "Simulasi Kredit",
            "Plan your installments easily and transparently.":
              "Rencanakan cicilan dengan mudah dan transparan.",
            "Car Price (Rp)": "Harga Mobil (Rp)",
            "Example: 250000000": "Contoh: 250000000",
            "Down Payment": "Uang Muka (DP)",
            "Tenure (Years)": "Tenor (Tahun)",
            "1 Year": "1 Tahun",
            "2 Years": "2 Tahun",
            "3 Years": "3 Tahun",
            "4 Years": "4 Tahun",
            "5 Years": "5 Tahun",
            "Calculate Installment": "Hitung Cicilan",
            "Estimated Monthly Installment:": "Estimasi Cicilan Bulanan:",
            "*This simulation result may vary depending on the leasing company.":
              "*Hasil simulasi ini bisa berbeda tergantung perusahaan leasing.",
            // Contact
            "Contact Us": "Hubungi Kami",
            "We are ready to help you find your dream car.":
              "Kami siap membantu Anda menemukan mobil impian.",
            Address: "Alamat",
            Phone: "Telepon",
            WhatsApp: "WhatsApp",
            "Our Location": "Lokasi Kami",
            // Trade-in
            "Sell Your Car Easily": "Jual Mobil Anda dengan Mudah",
            "Get the best offer for your car. Fast, transparent, and secure process.":
              "Dapatkan penawaran terbaik untuk mobil Anda. Proses cepat, transparan, dan aman.",
            "Step 1: Your Vehicle Data": "Langkah 1: Data Kendaraan Anda",
            "Car Brand": "Merek Mobil",
            "Select Brand": "Pilih Merek",
            Other: "Lainnya",
            "Model / Type": "Tipe / Model",
            "Example: Avanza Veloz": "Contoh: Avanza Veloz",
            Year: "Tahun",
            "Example: 2019": "Contoh: 2019",
            Transmission: "Transmisi",
            "Select Transmission": "Pilih Transmisi",
            Continue: "Lanjutkan",
            "Step 2: Condition & Mileage": "Langkah 2: Kondisi & Kilometer",
            "Kilometer (KM)": "Kilometer (KM)",
            "Example: 75000": "Contoh: 75000",
            Color: "Warna",
            "Example: White": "Contoh: Putih",
            "Engine Condition": "Kondisi Mesin",
            "Select Condition": "Pilih Kondisi",
            "Very Good (No issues)": "Sangat Baik (Tidak ada masalah)",
            "Good (Minor sounds, not disturbing)":
              "Baik (Ada sedikit suara, tapi tidak mengganggu)",
            "Fair (Needs minor repairs)": "Cukup (Perlu sedikit perbaikan)",
            "Poor (Needs major repairs)": "Buruk (Perlu perbaikan besar)",
            "Body & Paint Condition": "Kondisi Body & Cat",
            "Flawless Original (No scratches or dents)":
              "Mulus Original (Tidak ada baret atau penyok)",
            "Good (Minor scratches)": "Baik (Ada baret ringan)",
            "Fair (Some scratches or small dents)":
              "Cukup (Ada beberapa baret atau penyok kecil)",
            "Has Been Repainted": "Pernah Disepuh / Cat Ulang",
            Back: "Kembali",
            "Step 3: Your Data": "Langkah 3: Data Anda",
            "Full Name": "Nama Lengkap",
            "Phone / WhatsApp Number": "Nomor Telepon / WhatsApp",
            "Additional Notes (Optional)": "Lengkapilah jika ada",
            "Example: Car has experienced minor flooding, or has additional accessories.":
              "Contoh: Mobil pernah mengalami banjir kecil, atau ada aksesori tambahan.",
            "Get Estimation": "Dapatkan Estimasi",
            "Thank You!": "Terima Kasih!",
            "Based on the data you provided, the estimated price of your car is:":
              "Berdasarkan data yang Anda berikan, estimasi harga mobil Anda adalah:",
            "Our team will contact you within 24 hours for confirmation and final offer.":
              "Tim kami akan segera menghubungi Anda dalam 1x24 jam untuk konfirmasi dan penawaran final.",
            "Contact Us via WhatsApp": "Hubungi Kami via WhatsApp",
            "Create New Offer": "Buat Penawaran Baru",
            // Wishlist
            "Your Car Wishlist": "Wishlist Mobil Anda",
            "Save cars you like for later viewing.":
              "Simpan mobil yang Anda suka untuk dilihat nanti.",
            "Your Wishlist is Empty": "Wishlist Anda Kosong",
            "Start adding cars you're interested in by clicking the heart icon.":
              "Mulai tambahkan mobil yang Anda minati dengan mengeklik ikon hati.",
            // Comparison
            "Car Comparison": "Perbandingan Mobil",
            "Compare specifications of your selected cars.":
              "Bandingkan spesifikasi mobil pilihan Anda.",
            "No Cars to Compare": "Belum ada mobil untuk dibandingkan",
            "Select at least 2 cars to compare.":
              "Pilih minimal 2 mobil untuk membandingkan.",
            // Detail View
            Home: "Beranda",
            "Car Stock": "Stok Mobil",
            Description: "Deskripsi",
            "Car Type": "Tipe Mobil",
            "Fuel Type": "Bahan Bakar",
            Capacity: "Kapasitas",
            "Ask Price": "Tanya Harga",
            "Schedule Test Drive": "Jadwalkan Test Drive",
            "Book This Car": "Booking Mobil Ini",
            "Customer Reviews": "Ulasan Pelanggan",
            "Add Review": "Tambah Ulasan",
            Specifications: "Spesifikasi",
            Features: "Fitur",
            Inspection: "Hasil Inspeksi",
            Documents: "Dokumen",
            "Full Specifications": "Spesifikasi Lengkap",
            Engine: "Mesin",
            "Engine Type": "Tipe Mesin",
            "Engine Capacity": "Kapasitas Mesin",
            "Max Power": "Daya Maksimum",
            "Max Torque": "Torsi Maksimum",
            "Fuel System": "Sistem Bahan Bakar",
            Dimensions: "Dimensi",
            Length: "Panjang",
            Width: "Lebar",
            Height: "Tinggi",
            Wheelbase: "Jarak Sumbu Roda",
            Weight: "Berat Kosong",
            "Car Features": "Fitur Mobil",
            Exterior: "Eksterior",
            Interior: "Interior",
            Safety: "Keselamatan",
            Entertainment: "Hiburan",
            "Inspection Results": "Hasil Inspeksi",
            "Car Condition": "Kondisi Mobil",
            "Inspection Passed": "Lulus Inspeksi",
            "The car has passed 175 technical and document inspection points by our expert team.":
              "Mobil telah melalui 175 titik pemeriksaan teknis dan dokumen oleh tim ahli kami.",
            Engine: "Mesin",
            Transmission: "Transmisi",
            Brakes: "Rem",
            Electrical: "Kelistrikan",
            "Inspection Details": "Detail Pemeriksaan",
            "Inspection Date": "Tanggal Inspeksi",
            Inspector: "Inspektor",
            "Kilometer at Inspection": "Kilometer Saat Inspeksi",
            "Report Number": "Nomor Laporan",
            "Car Documents": "Dokumen Mobil",
            "Vehicle Documents": "Dokumen Kendaraan",
            "Original BPKB": "BPKB Asli",
            "Active STNK": "STNK Aktif",
            "Purchase Invoice": "Faktur Pembelian",
            "Manual Book": "Buku Manual",
            "Spare Key": "Kunci Serep",
            "Maintenance History": "Riwayat Pemeliharaan",
            "Regular Service": "Service Berkala",
            "Complete Service Book": "Buku Service Lengkap",
            "Never Crashed": "Tidak Pernah Tabrakan",
            "Never Flooded": "Tidak Pernah Kebanjiran",
            "Original Odometer": "Odometer Asli",
            "Similar Cars": "Mobil Serupa",
            // Test Drive Modal
            "Schedule Test Drive": "Jadwalkan Test Drive",
            "Full Name": "Nama Lengkap",
            "Phone Number": "Nomor Telepon",
            "Test Drive Date": "Tanggal Test Drive",
            Time: "Waktu",
            "Select Time": "Pilih Waktu",
            "Send Request": "Kirim Permintaan",
            // Booking Modal
            "Book This Car": "Booking Mobil",
            Email: "Email",
            "Booking Date": "Tanggal Booking",
            "Message (Optional)": "Pesan (opsional)",
            "Book Now": "Booking Sekarang",
            // Review Modal
            "Add Review": "Tambah Ulasan",
            "Your Name": "Nama Anda",
            Rating: "Rating",
            "Your Review": "Ulasan Anda",
            "Submit Review": "Kirim Ulasan",
            // Footer
            "&copy; 2024 KendaraanKu. All rights reserved.":
              "&copy; 2024 KendaraanKu. Semua hak dilindungi.",
          },
          en: {
            // ... (translations untuk bahasa Inggris tetap sama)
          },
        };

        // --- FITUR BARU: Review System ---
        let reviews = JSON.parse(localStorage.getItem("carReviews")) || {};

        // --- FITUR BARU: Booking System ---
        let bookings = JSON.parse(localStorage.getItem("carBookings")) || [];

        // --- HELPER FUNCTIONS ---
        function formatRupiah(amount) {
          return new Intl.NumberFormat("id-ID", {
            style: "currency",
            currency: "IDR",
            minimumFractionDigits: 0,
          }).format(amount);
        }

        function updateCompareButton() {
          compareCountSpan.textContent = carsToCompare.size;
          compareBtn.disabled = carsToCompare.size < 2;
        }

        // --- FITUR BARU: Toast Notification ---
        function showToast(message, type = "info") {
          const toast = document.createElement("div");
          toast.className = `toast ${type}`;
          toast.textContent = message;
          document.body.appendChild(toast);

          setTimeout(() => toast.classList.add("show"), 100);
          setTimeout(() => {
            toast.classList.remove("show");
            setTimeout(() => toast.remove(), 300);
          }, 3000);
        }

        // --- FITUR BARU: Language Support ---
        function toggleLanguage() {
          currentLanguage = currentLanguage === "id" ? "en" : "id";
          document.querySelectorAll(".lang-text").forEach((el) => {
            el.textContent = currentLanguage === "id" ? "EN" : "ID";
          });
          applyTranslations();
          localStorage.setItem("preferredLanguage", currentLanguage);
        }

        function applyTranslations() {
          document.querySelectorAll("[data-en]").forEach((element) => {
            const key = element.getAttribute("data-en");
            if (translations[currentLanguage][key]) {
              if (
                element.tagName === "INPUT" ||
                element.tagName === "TEXTAREA"
              ) {
                element.placeholder = translations[currentLanguage][key];
              } else {
                element.innerHTML = translations[currentLanguage][key];
              }
            }
          });

          document
            .querySelectorAll("[data-en-placeholder]")
            .forEach((element) => {
              const key = element.getAttribute("data-en-placeholder");
              if (translations[currentLanguage][key]) {
                element.placeholder = translations[currentLanguage][key];
              }
            });
        }

        // --- FITUR BARU: Wishlist Helper ---
        function updateWishlistButton(carId) {
          const button = document.querySelector(
            `.wishlist-btn[data-car-id="${carId}"] i`
          );
          if (wishlist.includes(carId)) {
            button.classList.remove("far");
            button.classList.add("fas", "active");
          } else {
            button.classList.remove("fas", "active");
            button.classList.add("far");
          }
        }

        function updateWishlistCount() {
          const count = wishlist.length;
          wishlistCountSpan.textContent = count;
          document.getElementById("mobile-wishlist-count").textContent = count;
        }

        function saveWishlist() {
          localStorage.setItem("carWishlist", JSON.stringify(wishlist));
        }

        // --- FITUR BARU: Review Helper ---
        function getReviewsForCar(carId) {
          return reviews[carId] || [];
        }

        function addReviewForCar(carId, review) {
          if (!reviews[carId]) {
            reviews[carId] = [];
          }
          reviews[carId].push({
            ...review,
            id: Date.now(),
            date: new Date().toLocaleDateString("id-ID"),
          });
          localStorage.setItem("carReviews", JSON.stringify(reviews));
        }

        function renderReviews(carId) {
          const container = document.getElementById("reviews-container");
          const carReviews = getReviewsForCar(carId);

          if (carReviews.length === 0) {
            container.innerHTML = `<p class="text-slate-400 text-center" data-en="No reviews yet. Be the first to review!">Belum ada ulasan. Jadilah yang pertama mengulas!</p>`;
            return;
          }

          container.innerHTML = carReviews
            .map(
              (review) => `
          <div class="glass-card p-4 rounded-lg">
            <div class="flex justify-between items-start mb-2">
              <h4 class="font-semibold">${review.name}</h4>
              <span class="text-sm text-slate-400">${review.date}</span>
            </div>
            <div class="review-stars mb-2">
              ${'<i class="fas fa-star"></i>'.repeat(
                review.rating
              )}${'<i class="far fa-star"></i>'.repeat(5 - review.rating)}
            </div>
            <p class="text-slate-300">${review.comment}</p>
          </div>
        `
            )
            .join("");
        }

        // --- FITUR BARU: Booking Helper ---
        function addBooking(booking) {
          bookings.push({
            ...booking,
            id: Date.now(),
            status: "pending",
          });
          localStorage.setItem("carBookings", JSON.stringify(bookings));
        }

        // --- VIEW MANAGEMENT ---
        function hideAllViews() {
          homeView.classList.add("hidden");
          detailView.classList.add("hidden");
          tradeInView.classList.add("hidden");
          wishlistView.classList.add("hidden");
          comparisonView.classList.add("hidden");
        }

        function showHomeView() {
          hideAllViews();
          homeView.classList.remove("hidden");
          window.scrollTo(0, 0);
          handleScrollReveal();
        }

        function showCarDetail(carId) {
          currentCar = allCars.find((c) => c.id == carId);
          if (!currentCar) return;

          // Populate Detail View
          document.getElementById("car-name-breadcrumb").textContent =
            currentCar.name;
          document.getElementById("car-title").textContent = currentCar.name;
          document.getElementById("car-year").textContent = currentCar.year;
          document.getElementById("car-transmission").textContent =
            currentCar.transmission;
          document.getElementById("car-mileage").textContent =
            currentCar.mileage;
          document.getElementById("car-price").textContent = formatRupiah(
            currentCar.price
          );
          document.getElementById("car-description").textContent =
            currentCar.description;
          document.getElementById("car-type").textContent =
            currentCar.type.toUpperCase();
          document.getElementById("car-fuel").textContent = currentCar.fuel;
          document.getElementById("car-seats").textContent = currentCar.seats;
          document.getElementById("car-color").textContent = currentCar.color;

          // Images
          const mainImage = document.getElementById("main-image");
          mainImage.src = currentCar.images[0];
          mainImage.alt = currentCar.name;

          const thumbnailContainer = document.getElementById(
            "thumbnail-container"
          );
          thumbnailContainer.innerHTML = currentCar.images
            .map(
              (img, index) => `
          <img src="${img}" alt="${
                currentCar.name
              }" class="thumbnail h-20 object-cover rounded cursor-pointer ${
                index === 0 ? "active" : ""
              }" data-index="${index}">
        `
            )
            .join("");

          // Specifications
          document.getElementById("engine-type").textContent =
            currentCar.engineType;
          document.getElementById("engine-capacity").textContent =
            currentCar.engineCapacity;
          document.getElementById("engine-power").textContent =
            currentCar.enginePower;
          document.getElementById("engine-torque").textContent =
            currentCar.engineTorque;
          document.getElementById("fuel-system").textContent =
            currentCar.fuelSystem;
          document.getElementById("length").textContent = currentCar.length;
          document.getElementById("width").textContent = currentCar.width;
          document.getElementById("height").textContent = currentCar.height;
          document.getElementById("wheelbase").textContent =
            currentCar.wheelbase;
          document.getElementById("weight").textContent = currentCar.weight;

          // Features
          document.getElementById("exterior-features").innerHTML =
            currentCar.exteriorFeatures
              .map(
                (f) =>
                  `<li class="flex items-center"><i class="fas fa-check text-green-600 mr-2"></i>${f}</li>`
              )
              .join("");
          document.getElementById("interior-features").innerHTML =
            currentCar.interiorFeatures
              .map(
                (f) =>
                  `<li class="flex items-center"><i class="fas fa-check text-green-600 mr-2"></i>${f}</li>`
              )
              .join("");
          document.getElementById("safety-features").innerHTML =
            currentCar.safetyFeatures
              .map(
                (f) =>
                  `<li class="flex items-center"><i class="fas fa-check text-green-600 mr-2"></i>${f}</li>`
              )
              .join("");
          document.getElementById("entertainment-features").innerHTML =
            currentCar.entertainmentFeatures
              .map(
                (f) =>
                  `<li class="flex items-center"><i class="fas fa-check text-green-600 mr-2"></i>${f}</li>`
              )
              .join("");

          // Inspection
          document.getElementById("inspection-date").textContent =
            currentCar.inspectionDate;
          document.getElementById("inspector").textContent =
            currentCar.inspector;
          document.getElementById("inspection-mileage").textContent =
            currentCar.inspectionMileage;
          document.getElementById("report-number").textContent =
            currentCar.reportNumber;

          // Similar Cars
          const similarCars = allCars
            .filter(
              (car) => car.type === currentCar.type && car.id !== currentCar.id
            )
            .slice(0, 3);

          const similarCarsGrid = document.getElementById("similar-cars-grid");
          similarCarsGrid.innerHTML = similarCars
            .map(
              (car) => `
          <div class="car-card rounded-xl overflow-hidden">
            <div class="relative h-48 overflow-hidden">
              <img src="${car.image}" alt="${
                car.name
              }" class="w-full h-full object-cover">
            </div>
            <div class="p-4">
              <h4 class="font-semibold mb-2">${car.name}</h4>
              <p class="text-slate-400 text-sm mb-2">${car.year} | ${
                car.transmission
              } | ${car.mileage}</p>
              <p class="gradient-text font-bold mb-3">${formatRupiah(
                car.price
              )}</p>
              <button class="btn-primary w-full text-sm view-detail-btn" data-car-id="${
                car.id
              }">
                <i class="fas fa-eye mr-1"></i> Lihat Detail
              </button>
            </div>
          </div>
        `
            )
            .join("");

          // Reviews
          renderReviews(currentCar.id);

          // Update wishlist button in detail view
          const detailWishlistBtn = document.getElementById(
            "detail-wishlist-btn"
          );
          const isInWishlist = wishlist.includes(currentCar.id);
          detailWishlistBtn.innerHTML = isInWishlist
            ? '<i class="fas fa-heart active"></i>'
            : '<i class="far fa-heart"></i>';

          // Show Detail View
          hideAllViews();
          detailView.classList.remove("hidden");
          window.scrollTo(0, 0);
          applyTranslations();
        }

        // --- FITUR BARU: Trade-in View Management ---
        function showTradeInView() {
          hideAllViews();
          tradeInView.classList.remove("hidden");
          window.scrollTo(0, 0);
          resetTradeInForm();
          applyTranslations();
        }

        function showTradeInStep(step) {
          formSteps.forEach((s) => s.classList.remove("active"));
          document.getElementById(`step-${step}`).classList.add("active");
          currentTradeInStep = step;
        }

        function resetTradeInForm() {
          document.getElementById("trade-in-form").reset();
          showTradeInStep(1);
        }

        function calculateTradeInEstimation() {
          const basePrice = 150000000;
          const year = parseInt(document.getElementById("trade-year").value);
          const mileage = parseInt(
            document.getElementById("trade-mileage").value
          );
          const engineCond = document.getElementById(
            "trade-engine-condition"
          ).value;
          const bodyCond = document.getElementById(
            "trade-body-condition"
          ).value;

          let estimation = basePrice;
          const currentYear = new Date().getFullYear();
          const age = currentYear - year;
          estimation -= age * 10000000;
          estimation -= (mileage / 1000) * 500000;

          if (engineCond === "Sangat Baik") estimation += 10000000;
          if (engineCond === "Buruk") estimation -= 20000000;
          if (bodyCond === "Mulus Original") estimation += 15000000;
          if (bodyCond === "Pernah Disepuh") estimation -= 10000000;

          return Math.max(estimation, 50000000);
        }

        // --- FITUR BARU: Wishlist View Management ---
        function showWishlistView() {
          hideAllViews();
          wishlistView.classList.remove("hidden");
          renderWishlist();
          window.scrollTo(0, 0);
          applyTranslations();
        }

        function renderWishlist() {
          wishlistGrid.innerHTML = "";
          if (wishlist.length === 0) {
            wishlistGrid.classList.add("hidden");
            wishlistEmptyDiv.classList.remove("hidden");
          } else {
            wishlistGrid.classList.remove("hidden");
            wishlistEmptyDiv.classList.add("hidden");
            wishlist.forEach((carId) => {
              const car = allCars.find((c) => c.id === carId);
              if (!car) return;
              const carCard = document.createElement("div");
              carCard.className = "car-card rounded-xl overflow-hidden";
              carCard.innerHTML = `
          <div class="relative h-56 overflow-hidden"><img src="${
            car.image
          }" alt="${car.name}" class="w-full h-full object-cover"></div>
          <div class="p-6">
            <h3 class="text-xl font-semibold mb-2">${car.name}</h3>
            <p class="text-slate-400 text-sm mb-4">${car.year} | ${
                car.transmission
              } | ${car.mileage}</p>
            <p class="text-2xl font-bold gradient-text mb-4">${formatRupiah(
              car.price
            )}</p>
            <div class="flex gap-2">
              <button class="btn-primary text-sm flex-1 view-detail-btn" data-car-id="${
                car.id
              }">
                <i class="fas fa-eye mr-2"></i><span data-en="View Detail">Lihat Detail</span>
              </button>
              <button class="btn-secondary text-sm wishlist-btn" data-car-id="${
                car.id
              }" title="Hapus dari Wishlist">
                <i class="fas fa-heart active"></i>
              </button>
            </div>
          </div>
        `;
              wishlistGrid.appendChild(carCard);
            });
          }
          applyTranslations();
        }

        // --- FITUR BARU: Comparison View Management ---
        function showComparisonView() {
          hideAllViews();
          comparisonView.classList.remove("hidden");
          renderComparison();
          window.scrollTo(0, 0);
          applyTranslations();
        }

        function renderComparison() {
          const container = document.getElementById("comparison-container");
          const emptyDiv = document.getElementById("comparison-empty");

          if (carsToCompare.size < 2) {
            container.classList.add("hidden");
            emptyDiv.classList.remove("hidden");
            return;
          }

          container.classList.remove("hidden");
          emptyDiv.classList.add("hidden");

          const carsToCompareArray = Array.from(carsToCompare).map((id) =>
            allCars.find((c) => c.id == id)
          );

          let comparisonHTML = `
      <div class="overflow-x-auto">
        <table class="comparison-table">
          <thead>
            <tr>
              <th><span data-en="Specification">Spesifikasi</span></th>
              ${carsToCompareArray
                .map((car) => `<th>${car.name}</th>`)
                .join("")}
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><span data-en="Price">Harga</span></td>
              ${carsToCompareArray
                .map((car) => `<td>${formatRupiah(car.price)}</td>`)
                .join("")}
            </tr>
            <tr>
              <td><span data-en="Year">Tahun</span></td>
              ${carsToCompareArray
                .map((car) => `<td>${car.year}</td>`)
                .join("")}
            </tr>
            <tr>
              <td><span data-en="Transmission">Transmisi</span></td>
              ${carsToCompareArray
                .map((car) => `<td>${car.transmission}</td>`)
                .join("")}
            </tr>
            <tr>
              <td><span data-en="Mileage">Kilometer</span></td>
              ${carsToCompareArray
                .map((car) => `<td>${car.mileage}</td>`)
                .join("")}
            </tr>
            <tr>
              <td><span data-en="Fuel">Bahan Bakar</span></td>
              ${carsToCompareArray
                .map((car) => `<td>${car.fuel}</td>`)
                .join("")}
            </tr>
            <tr>
              <td><span data-en="Seats">Kursi</span></td>
              ${carsToCompareArray
                .map((car) => `<td>${car.seats}</td>`)
                .join("")}
            </tr>
            <tr>
              <td><span data-en="Color">Warna</span></td>
              ${carsToCompareArray
                .map((car) => `<td>${car.color}</td>`)
                .join("")}
            </tr>
          </tbody>
        </table>
      </div>
      <div class="mt-6 text-center">
        <button id="clear-comparison" class="btn-outline">
          <i class="fas fa-times mr-2"></i><span data-en="Clear Comparison">Hapus Perbandingan</span>
        </button>
      </div>
    `;

          container.innerHTML = comparisonHTML;
          applyTranslations();
        }

        // --- RENDER FUNCTIONS ---
        function renderCars(append = false) {
          const startIndex = append ? currentPage * carsPerPage : 0;
          const endIndex = startIndex + carsPerPage;
          const carsToShow = filteredCars.slice(startIndex, endIndex);

          if (!append) carGrid.innerHTML = "";

          if (carsToShow.length === 0 && !append) {
            noResultsDiv.classList.remove("hidden");
            loadMoreBtn.classList.add("hidden");
          } else {
            noResultsDiv.classList.add("hidden");
            carsToShow.forEach((car, index) => {
              const carCard = document.createElement("div");
              carCard.className = "car-card rounded-xl overflow-hidden reveal";
              carCard.style.transitionDelay = `${index * 0.1}s`;
              const isInWishlist = wishlist.includes(car.id);
              carCard.innerHTML = `
          <div class="relative h-56 overflow-hidden">
            <img src="${car.image}" alt="${
                car.name
              }" class="w-full h-full object-cover">
            ${
              car.isBestSeller
                ? '<span class="absolute top-3 left-3 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full" data-en="BESTSELLER">TERLARIS</span>'
                : ""
            }
            <span class="absolute top-3 right-3 bg-slate-900/80 text-white text-xs font-semibold px-3 py-1 rounded-full"><span data-en="Stock">Stok</span>: ${
              car.stock
            }</span>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-semibold mb-2">${car.name}</h3>
            <p class="text-slate-400 text-sm mb-4">${car.year} | ${
                car.transmission
              } | ${car.mileage}</p>
            <p class="text-2xl font-bold gradient-text mb-4">${formatRupiah(
              car.price
            )}</p>
            <div class="flex items-center justify-between">
              <button class="btn-primary text-sm view-detail-btn" data-car-id="${
                car.id
              }">
                <i class="fas fa-eye mr-2"></i><span data-en="View Detail">Lihat Detail</span>
              </button>
              <div class="flex items-center gap-3">
                <button class="wishlist-btn text-slate-400 hover:text-red-500 transition-colors" data-car-id="${
                  car.id
                }" title="Tambah ke Wishlist">
                  <i class="${
                    isInWishlist ? "fas active" : "far"
                  } fa-heart text-xl"></i>
                </button>
                <div class="flex items-center">
                  <input type="checkbox" class="compare-checkbox" data-car-id="${
                    car.id
                  }">
                  <label class="ml-2 text-sm text-slate-400 cursor-pointer"><span data-en="Compare">Bandingkan</span></label>
                </div>
              </div>
            </div>
          </div>
        `;
              carGrid.appendChild(carCard);
            });

            document
              .querySelectorAll(".compare-checkbox")
              .forEach((checkbox) => {
                checkbox.addEventListener("change", (e) => {
                  const carId = e.target.dataset.carId;
                  if (e.target.checked) {
                    if (carsToCompare.size >= 3) {
                      e.target.checked = false;
                      showToast(
                        currentLanguage === "id"
                          ? "Maksimal 3 mobil untuk dibandingkan."
                          : "Maximum 3 cars to compare.",
                        "error"
                      );
                      return;
                    }
                    carsToCompare.add(carId);
                  } else {
                    carsToCompare.delete(carId);
                  }
                  updateCompareButton();
                });
              });
            handleScrollReveal();
          }

          if (endIndex >= filteredCars.length) {
            loadMoreBtn.classList.add("hidden");
          } else {
            loadMoreBtn.classList.remove("hidden");
          }

          applyTranslations();
        }

        // --- EVENT LISTENERS ---
        document.addEventListener("click", (e) => {
          // View Detail Button
          const viewDetailBtn = e.target.closest(".view-detail-btn");
          if (viewDetailBtn) {
            e.preventDefault();
            const carId = viewDetailBtn.dataset.carId;
            showCarDetail(carId);
          }

          // Wishlist Button
          const wishlistBtn = e.target.closest(".wishlist-btn");
          if (wishlistBtn) {
            e.preventDefault();
            e.stopPropagation();
            const carId = parseInt(wishlistBtn.dataset.carId);
            const index = wishlist.indexOf(carId);
            if (index > -1) {
              wishlist.splice(index, 1);
              showToast(
                currentLanguage === "id"
                  ? "Dihapus dari wishlist"
                  : "Removed from wishlist",
                "info"
              );
            } else {
              wishlist.push(carId);
              showToast(
                currentLanguage === "id"
                  ? "Ditambahkan ke wishlist"
                  : "Added to wishlist",
                "success"
              );
            }
            saveWishlist();
            updateWishlistCount();
            updateWishlistButton(carId);
            if (!wishlistView.classList.contains("hidden")) {
              renderWishlist();
            }
          }

          // Thumbnail click
          const thumbnail = e.target.closest(".thumbnail");
          if (thumbnail) {
            e.preventDefault();
            const index = thumbnail.dataset.index;
            document.getElementById("main-image").src =
              currentCar.images[index];
            document
              .querySelectorAll(".thumbnail")
              .forEach((t) => t.classList.remove("active"));
            thumbnail.classList.add("active");
          }
        });

        // Load More
        loadMoreBtn.addEventListener("click", () => {
          currentPage++;
          loadMoreBtn.classList.add("hidden");
          loadingSpinner.classList.remove("hidden");
          setTimeout(() => {
            renderCars(true);
            loadingSpinner.classList.add("hidden");
          }, 800);
        });

        // Filter
        document.getElementById("filter-btn").addEventListener("click", () => {
          currentPage = 0;
          const brand = document.getElementById("filter-brand").value;
          const price = document.getElementById("filter-price").value;
          const type = document.getElementById("filter-type").value;
          filteredCars = allCars.filter((car) => {
            const matchBrand = brand === "all" || car.brand === brand;
            let matchPrice = true;
            if (price === "0-200") matchPrice = car.price < 200000000;
            if (price === "200-350")
              matchPrice = car.price >= 200000000 && car.price <= 350000000;
            if (price === "350+") matchPrice = car.price > 350000000;
            const matchType = type === "all" || car.type === type;
            return matchBrand && matchPrice && matchType;
          });
          renderCars();
        });

        // Real-time Search
        document
          .getElementById("search-input")
          .addEventListener("input", (e) => {
            const query = e.target.value.toLowerCase();
            if (query.length < 2) {
              filteredCars = [...allCars];
            } else {
              filteredCars = allCars.filter(
                (car) =>
                  car.name.toLowerCase().includes(query) ||
                  car.brand.toLowerCase().includes(query) ||
                  car.type.toLowerCase().includes(query)
              );
            }
            currentPage = 0;
            renderCars();
          });

        // Compare Button
        compareBtn.addEventListener("click", () => {
          if (carsToCompare.size < 2) return;
          showComparisonView();
        });

        // Clear Comparison
        document.addEventListener("click", (e) => {
          if (
            e.target.id === "clear-comparison" ||
            e.target.closest("#clear-comparison")
          ) {
            carsToCompare.clear();
            updateCompareButton();
            renderComparison();
          }
        });

        // Credit Simulation
        document
          .getElementById("calculate-btn")
          .addEventListener("click", () => {
            const carPrice =
              parseFloat(document.getElementById("car-price").value) || 0;
            const dpAmount =
              parseFloat(document.getElementById("dp").value) || 0;
            const tenorYears = parseInt(document.getElementById("tenor").value);
            if (carPrice <= 0) {
              showToast(
                currentLanguage === "id"
                  ? "Masukkan harga mobil yang valid."
                  : "Please enter a valid car price.",
                "error"
              );
              return;
            }
            const principal = carPrice - dpAmount;
            const rate = 0.09;
            const monthlyRate = rate / 12;
            const totalMonths = tenorYears * 12;
            const installment =
              (principal *
                (monthlyRate * Math.pow(1 + monthlyRate, totalMonths))) /
              (Math.pow(1 + monthlyRate, totalMonths) - 1);
            document.getElementById("monthly-installment").textContent =
              formatRupiah(installment);
            document.getElementById("credit-result").classList.remove("hidden");
          });

        // Test Drive Modal
        const testDriveModal = document.getElementById("test-drive-modal");
        const testDriveForm = document.getElementById("test-drive-form");
        document
          .getElementById("test-drive-btn")
          .addEventListener("click", () =>
            testDriveModal.classList.remove("hidden")
          );
        document
          .getElementById("close-modal")
          .addEventListener("click", () =>
            testDriveModal.classList.add("hidden")
          );
        testDriveModal.addEventListener("click", (e) => {
          if (e.target === testDriveModal)
            testDriveModal.classList.add("hidden");
        });
        testDriveForm.addEventListener("submit", (e) => {
          e.preventDefault();
          const name = document.getElementById("name").value;
          const phone = document.getElementById("phone").value;
          const date = document.getElementById("date").value;
          const time = document.getElementById("time").value;
          const message = `Halo KendaraanKu, saya ingin menjadwalkan test drive untuk mobil ${currentCar.name}:\n\nNama: ${name}\nTelepon: ${phone}\nTanggal: ${date}\nWaktu: ${time}`;
          window.open(
            `https://wa.me/628123456789?text=${encodeURIComponent(message)}`,
            "_blank"
          );
          testDriveForm.reset();
          testDriveModal.classList.add("hidden");
          showToast(
            currentLanguage === "id"
              ? "Permintaan test drive berhasil dikirim!"
              : "Test drive request sent successfully!",
            "success"
          );
        });

        // Booking Modal
        const bookingModal = document.getElementById("booking-modal");
        const bookingForm = document.getElementById("booking-form");
        document
          .getElementById("hero-booking-btn")
          .addEventListener("click", () =>
            bookingModal.classList.remove("hidden")
          );
        document
          .getElementById("detail-booking-btn")
          .addEventListener("click", () =>
            bookingModal.classList.remove("hidden")
          );
        document
          .getElementById("close-booking-modal")
          .addEventListener("click", () =>
            bookingModal.classList.add("hidden")
          );
        bookingModal.addEventListener("click", (e) => {
          if (e.target === bookingModal) bookingModal.classList.add("hidden");
        });
        bookingForm.addEventListener("submit", (e) => {
          e.preventDefault();
          const name = document.getElementById("booking-name").value;
          const phone = document.getElementById("booking-phone").value;
          const email = document.getElementById("booking-email").value;
          const date = document.getElementById("booking-date").value;
          const message = document.getElementById("booking-message").value;

          const bookingData = {
            carId: currentCar ? currentCar.id : null,
            carName: currentCar ? currentCar.name : "Konsultasi Umum",
            name,
            phone,
            email,
            date,
            message,
          };

          addBooking(bookingData);

          const waMessage = `Halo KendaraanKu, saya ingin booking ${
            currentCar ? "mobil " + currentCar.name : "konsultasi"
          }:\n\nNama: ${name}\nTelepon: ${phone}\nEmail: ${email}\nTanggal: ${date}${
            message ? "\nPesan: " + message : ""
          }`;
          window.open(
            `https://wa.me/628123456789?text=${encodeURIComponent(waMessage)}`,
            "_blank"
          );
          bookingForm.reset();
          bookingModal.classList.add("hidden");
          showToast(
            currentLanguage === "id"
              ? "Booking berhasil dikirim!"
              : "Booking sent successfully!",
            "success"
          );
        });

        // Review Modal
        const reviewModal = document.getElementById("review-modal");
        const reviewForm = document.getElementById("review-form");
        document
          .getElementById("add-review-btn")
          .addEventListener("click", () =>
            reviewModal.classList.remove("hidden")
          );
        document
          .getElementById("close-review-modal")
          .addEventListener("click", () => reviewModal.classList.add("hidden"));
        reviewModal.addEventListener("click", (e) => {
          if (e.target === reviewModal) reviewModal.classList.add("hidden");
        });

        // Rating stars
        document.addEventListener("click", (e) => {
          if (
            e.target.classList.contains("fa-star") &&
            e.target.parentElement.id === "rating-stars"
          ) {
            const rating = parseInt(e.target.dataset.rating);
            document.getElementById("review-rating").value = rating;
            const stars = document.querySelectorAll("#rating-stars .fa-star");
            stars.forEach((star, index) => {
              if (index < rating) {
                star.classList.remove("far");
                star.classList.add("fas");
              } else {
                star.classList.remove("fas");
                star.classList.add("far");
              }
            });
          }
        });

        reviewForm.addEventListener("submit", (e) => {
          e.preventDefault();
          const name = document.getElementById("reviewer-name").value;
          const rating = parseInt(
            document.getElementById("review-rating").value
          );
          const comment = document.getElementById("review-comment").value;

          if (rating === 0) {
            showToast(
              currentLanguage === "id"
                ? "Harap beri rating!"
                : "Please provide a rating!",
              "error"
            );
            return;
          }

          addReviewForCar(currentCar.id, { name, rating, comment });
          renderReviews(currentCar.id);
          reviewForm.reset();
          document
            .querySelectorAll("#rating-stars .fa-star")
            .forEach((star) => {
              star.classList.remove("fas");
              star.classList.add("far");
            });
          document.getElementById("review-rating").value = 0;
          reviewModal.classList.add("hidden");
          showToast(
            currentLanguage === "id"
              ? "Ulasan berhasil dikirim!"
              : "Review submitted successfully!",
            "success"
          );
        });

        // Tab Navigation
        document.querySelectorAll(".tab-btn").forEach((button) => {
          button.addEventListener("click", () => {
            const tabName = button.dataset.tab;
            document
              .querySelectorAll(".tab-btn")
              .forEach((btn) => btn.classList.remove("active"));
            button.classList.add("active");
            document.querySelectorAll(".tab-content").forEach((content) => {
              content.id === `${tabName}-tab`
                ? content.classList.remove("hidden")
                : content.classList.add("hidden");
            });
          });
        });

        // Trade-in Form Listeners
        document
          .getElementById("nav-trade-in")
          .addEventListener("click", (e) => {
            e.preventDefault();
            showTradeInView();
          });
        document
          .getElementById("mobile-nav-trade-in")
          .addEventListener("click", (e) => {
            e.preventDefault();
            showTradeInView();
            closeMobileMenu();
          });
        document
          .getElementById("hero-trade-in-btn")
          .addEventListener("click", () => showTradeInView());

        document.querySelectorAll(".btn-next").forEach((btn) => {
          btn.addEventListener("click", () => {
            if (currentTradeInStep < 3) {
              showTradeInStep(currentTradeInStep + 1);
            }
          });
        });

        document.querySelectorAll(".btn-prev").forEach((btn) => {
          btn.addEventListener("click", () => {
            if (currentTradeInStep > 1) {
              showTradeInStep(currentTradeInStep - 1);
            }
          });
        });

        document
          .getElementById("trade-in-form")
          .addEventListener("submit", (e) => {
            e.preventDefault();
            const estimation = calculateTradeInEstimation();
            document.getElementById("trade-estimation").textContent =
              formatRupiah(estimation);

            const name = document.getElementById("trade-name").value;
            const phone = document.getElementById("trade-phone").value;
            const brand = document.getElementById("trade-brand").value;
            const model = document.getElementById("trade-model").value;

            const message = `Halo KendaraanKu, saya baru saja mengajukan penawaran untuk mobil saya.\n\nNama: ${name}\nTelepon: ${phone}\nMobil: ${brand} ${model}\n\nEstimasi saya: ${formatRupiah(
              estimation
            )}. Mohon untuk segera diproses.`;
            const waLink = `https://wa.me/628123456789?text=${encodeURIComponent(
              message
            )}`;
            document.getElementById("trade-whatsapp-link").href = waLink;

            showTradeInStep("result");
          });

        document
          .querySelector(".btn-reset")
          .addEventListener("click", resetTradeInForm);

        // Wishlist Listeners
        document
          .getElementById("nav-wishlist")
          .addEventListener("click", (e) => {
            e.preventDefault();
            showWishlistView();
          });
        document
          .getElementById("mobile-nav-wishlist")
          .addEventListener("click", (e) => {
            e.preventDefault();
            showWishlistView();
            closeMobileMenu();
          });
        document
          .getElementById("back-to-inventory")
          .addEventListener("click", (e) => {
            e.preventDefault();
            showHomeView();
          });
        document
          .getElementById("back-to-inventory-from-comparison")
          .addEventListener("click", (e) => {
            e.preventDefault();
            showHomeView();
          });

        // Language Toggle
        document
          .getElementById("lang-toggle")
          .addEventListener("click", toggleLanguage);
        document
          .getElementById("mobile-lang-toggle")
          .addEventListener("click", () => {
            toggleLanguage();
            closeMobileMenu();
          });

        // Mobile Menu
        const mobileMenuBtn = document.getElementById("mobile-menu-btn");
        const mobileMenu = document.getElementById("mobile-menu");
        const mobileOverlay = document.getElementById("mobile-overlay");

        function openMobileMenu() {
          mobileMenu.classList.add("open");
          mobileOverlay.classList.add("active");
          document.body.style.overflow = "hidden";
        }

        function closeMobileMenu() {
          mobileMenu.classList.remove("open");
          mobileOverlay.classList.remove("active");
          document.body.style.overflow = "";
        }

        mobileMenuBtn.addEventListener("click", openMobileMenu);
        mobileOverlay.addEventListener("click", closeMobileMenu);

        // Navigation Links
        document.getElementById("nav-logo").addEventListener("click", (e) => {
          e.preventDefault();
          showHomeView();
        });
        document
          .getElementById("breadcrumb-home")
          .addEventListener("click", (e) => {
            e.preventDefault();
            showHomeView();
          });
        document
          .getElementById("breadcrumb-inventory")
          .addEventListener("click", (e) => {
            e.preventDefault();
            showHomeView();
            document.getElementById("inventory").scrollIntoView();
          });
        document
          .getElementById("nav-inventory")
          .addEventListener("click", (e) => {
            e.preventDefault();
            showHomeView();
            document.getElementById("inventory").scrollIntoView();
          });
        document
          .getElementById("mobile-nav-inventory")
          .addEventListener("click", (e) => {
            e.preventDefault();
            showHomeView();
            document.getElementById("inventory").scrollIntoView();
            closeMobileMenu();
          });

        // Reveal on Scroll
        function handleScrollReveal() {
          const reveals = document.querySelectorAll(".reveal:not(.active)");
          reveals.forEach((element) => {
            const windowHeight = window.innerHeight;
            const elementTop = element.getBoundingClientRect().top;
            const elementVisible = 150;
            if (elementTop < windowHeight - elementVisible)
              element.classList.add("active");
          });
        }
        window.addEventListener("scroll", handleScrollReveal);

        // Navbar on scroll
        window.addEventListener("scroll", () => {
          const navbar = document.getElementById("navbar");
          if (window.scrollY > 50) navbar.classList.add("navbar-scrolled");
          else navbar.classList.remove("navbar-scrolled");
        });

        // --- INITIALIZATION ---
        const savedLanguage = localStorage.getItem("preferredLanguage");
        if (savedLanguage) {
          currentLanguage = savedLanguage;
          document.querySelectorAll(".lang-text").forEach((el) => {
            el.textContent = currentLanguage === "id" ? "EN" : "ID";
          });
        }

        renderCars();
        updateWishlistCount();
        handleScrollReveal();
        applyTranslations();
      });
    </script>
  </body>
</html>
